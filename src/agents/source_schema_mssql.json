{
    "metadata": {
        "database": "SQL Server (AdventureWorks)",
        "type": "mssql"
    },
    "schemas": [
        "db_accessadmin",
        "db_backupoperator",
        "db_datareader",
        "db_datawriter",
        "db_ddladmin",
        "db_denydatareader",
        "db_denydatawriter",
        "db_owner",
        "db_securityadmin",
        "dbo",
        "guest",
        "HumanResources",
        "INFORMATION_SCHEMA",
        "Person",
        "Production",
        "Purchasing",
        "Sales",
        "sys"
    ],
    "dependencies": {
        "user_defined_types": {
            "AccountNumber": {
                "length": 30,
                "precision": 0
            },
            "Flag": {
                "length": 1,
                "precision": 1
            },
            "NameStyle": {
                "length": 1,
                "precision": 1
            },
            "Name": {
                "length": 100,
                "precision": 0
            },
            "OrderNumber": {
                "length": 50,
                "precision": 0
            },
            "Phone": {
                "length": 50,
                "precision": 0
            }
        },
        "sequences": {}
    },
    "tables": {
        "dbo.AWBuildVersion": {
            "type": "table",
            "columns": [
                {
                    "name": "SystemInformationID",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "Database Version",
                    "type": "NVARCHAR(25) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "VersionDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SystemInformationID"
            ],
            "foreign_keys": []
        },
        "dbo.DatabaseLog": {
            "type": "table",
            "columns": [
                {
                    "name": "DatabaseLogID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PostTime",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "DatabaseUser",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "Event",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "Schema",
                    "type": "NULL",
                    "nullable": true
                },
                {
                    "name": "Object",
                    "type": "NULL",
                    "nullable": true
                },
                {
                    "name": "TSQL",
                    "type": "NVARCHAR COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "XmlEvent",
                    "type": "XML",
                    "nullable": false
                }
            ],
            "primary_key": [
                "DatabaseLogID"
            ],
            "foreign_keys": []
        },
        "dbo.ErrorLog": {
            "type": "table",
            "columns": [
                {
                    "name": "ErrorLogID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ErrorTime",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "UserName",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ErrorNumber",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ErrorSeverity",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "ErrorState",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "ErrorProcedure",
                    "type": "NVARCHAR(126) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "ErrorLine",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "ErrorMessage",
                    "type": "NVARCHAR(4000) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ErrorLogID"
            ],
            "foreign_keys": []
        },
        "HumanResources.Department": {
            "type": "table",
            "columns": [
                {
                    "name": "DepartmentID",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "GroupName",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "DepartmentID"
            ],
            "foreign_keys": []
        },
        "HumanResources.Employee": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "NationalIDNumber",
                    "type": "NVARCHAR(15) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "LoginID",
                    "type": "NVARCHAR(256) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "OrganizationNode",
                    "type": "NULL",
                    "nullable": true
                },
                {
                    "name": "OrganizationLevel",
                    "type": "SMALLINT",
                    "nullable": true
                },
                {
                    "name": "JobTitle",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "BirthDate",
                    "type": "DATE",
                    "nullable": false
                },
                {
                    "name": "MaritalStatus",
                    "type": "NCHAR(1) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Gender",
                    "type": "NCHAR(1) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "HireDate",
                    "type": "DATE",
                    "nullable": false
                },
                {
                    "name": "SalariedFlag",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "VacationHours",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "SickLeaveHours",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "CurrentFlag",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Person",
                    "referred_schema": "Person"
                }
            ]
        },
        "HumanResources.EmployeeDepartmentHistory": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "DepartmentID",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "ShiftID",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "StartDate",
                    "type": "DATE",
                    "nullable": false
                },
                {
                    "name": "EndDate",
                    "type": "DATE",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "StartDate",
                "DepartmentID",
                "ShiftID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Department",
                    "referred_schema": "HumanResources"
                },
                {
                    "referred_table": "Employee",
                    "referred_schema": "HumanResources"
                },
                {
                    "referred_table": "Shift",
                    "referred_schema": "HumanResources"
                }
            ]
        },
        "HumanResources.EmployeePayHistory": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "RateChangeDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "Rate",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "PayFrequency",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "RateChangeDate"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Employee",
                    "referred_schema": "HumanResources"
                }
            ]
        },
        "HumanResources.JobCandidate": {
            "type": "table",
            "columns": [
                {
                    "name": "JobCandidateID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "Resume",
                    "type": "XML",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "JobCandidateID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Employee",
                    "referred_schema": "HumanResources"
                }
            ]
        },
        "HumanResources.Shift": {
            "type": "table",
            "columns": [
                {
                    "name": "ShiftID",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "StartTime",
                    "type": "TIME",
                    "nullable": false
                },
                {
                    "name": "EndTime",
                    "type": "TIME",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ShiftID"
            ],
            "foreign_keys": []
        },
        "Person.Address": {
            "type": "table",
            "columns": [
                {
                    "name": "AddressID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "AddressLine1",
                    "type": "NVARCHAR(60) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "AddressLine2",
                    "type": "NVARCHAR(60) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "City",
                    "type": "NVARCHAR(30) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "StateProvinceID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PostalCode",
                    "type": "NVARCHAR(15) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "SpatialLocation",
                    "type": "NULL",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "AddressID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "StateProvince",
                    "referred_schema": "Person"
                }
            ]
        },
        "Person.AddressType": {
            "type": "table",
            "columns": [
                {
                    "name": "AddressTypeID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "AddressTypeID"
            ],
            "foreign_keys": []
        },
        "Person.BusinessEntity": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID"
            ],
            "foreign_keys": []
        },
        "Person.BusinessEntityAddress": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "AddressID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "AddressTypeID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "AddressID",
                "AddressTypeID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Address",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "AddressType",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "BusinessEntity",
                    "referred_schema": "Person"
                }
            ]
        },
        "Person.BusinessEntityContact": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PersonID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ContactTypeID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "PersonID",
                "ContactTypeID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "BusinessEntity",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "ContactType",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "Person",
                    "referred_schema": "Person"
                }
            ]
        },
        "Person.ContactType": {
            "type": "table",
            "columns": [
                {
                    "name": "ContactTypeID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ContactTypeID"
            ],
            "foreign_keys": []
        },
        "Person.CountryRegion": {
            "type": "table",
            "columns": [
                {
                    "name": "CountryRegionCode",
                    "type": "NVARCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "CountryRegionCode"
            ],
            "foreign_keys": []
        },
        "Person.EmailAddress": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "EmailAddressID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "EmailAddress",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "EmailAddressID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Person",
                    "referred_schema": "Person"
                }
            ]
        },
        "Person.Password": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PasswordHash",
                    "type": "VARCHAR(128) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "PasswordSalt",
                    "type": "VARCHAR(10) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Person",
                    "referred_schema": "Person"
                }
            ]
        },
        "Person.Person": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PersonType",
                    "type": "NCHAR(2) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "NameStyle",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "Title",
                    "type": "NVARCHAR(8) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "FirstName",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "MiddleName",
                    "type": "NULL",
                    "nullable": true
                },
                {
                    "name": "LastName",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "Suffix",
                    "type": "NVARCHAR(10) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "EmailPromotion",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "AdditionalContactInfo",
                    "type": "XML",
                    "nullable": true
                },
                {
                    "name": "Demographics",
                    "type": "XML",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "BusinessEntity",
                    "referred_schema": "Person"
                }
            ]
        },
        "Person.PersonPhone": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PhoneNumber",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "PhoneNumberTypeID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "PhoneNumber",
                "PhoneNumberTypeID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Person",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "PhoneNumberType",
                    "referred_schema": "Person"
                }
            ]
        },
        "Person.PhoneNumberType": {
            "type": "table",
            "columns": [
                {
                    "name": "PhoneNumberTypeID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "PhoneNumberTypeID"
            ],
            "foreign_keys": []
        },
        "Person.StateProvince": {
            "type": "table",
            "columns": [
                {
                    "name": "StateProvinceID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StateProvinceCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "CountryRegionCode",
                    "type": "NVARCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "IsOnlyStateProvinceFlag",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "TerritoryID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "StateProvinceID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "CountryRegion",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "SalesTerritory",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Production.BillOfMaterials": {
            "type": "table",
            "columns": [
                {
                    "name": "BillOfMaterialsID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductAssemblyID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "ComponentID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "EndDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "UnitMeasureCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "BOMLevel",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "PerAssemblyQty",
                    "type": "DECIMAL(8, 2)",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BillOfMaterialsID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "UnitMeasure",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.Culture": {
            "type": "table",
            "columns": [
                {
                    "name": "CultureID",
                    "type": "NCHAR(6) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "CultureID"
            ],
            "foreign_keys": []
        },
        "Production.Document": {
            "type": "table",
            "columns": [
                {
                    "name": "DocumentNode",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "DocumentLevel",
                    "type": "SMALLINT",
                    "nullable": true
                },
                {
                    "name": "Title",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Owner",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "FolderFlag",
                    "type": "BIT",
                    "nullable": false
                },
                {
                    "name": "FileName",
                    "type": "NVARCHAR(400) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "FileExtension",
                    "type": "NVARCHAR(8) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Revision",
                    "type": "NCHAR(5) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "ChangeNumber",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Status",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "DocumentSummary",
                    "type": "NVARCHAR COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "Document",
                    "type": "VARBINARY",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "DocumentNode"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Employee",
                    "referred_schema": "HumanResources"
                }
            ]
        },
        "Production.Illustration": {
            "type": "table",
            "columns": [
                {
                    "name": "IllustrationID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Diagram",
                    "type": "XML",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "IllustrationID"
            ],
            "foreign_keys": []
        },
        "Production.Location": {
            "type": "table",
            "columns": [
                {
                    "name": "LocationID",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "CostRate",
                    "type": "SMALLMONEY",
                    "nullable": false
                },
                {
                    "name": "Availability",
                    "type": "DECIMAL(8, 2)",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "LocationID"
            ],
            "foreign_keys": []
        },
        "Production.Product": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ProductNumber",
                    "type": "NVARCHAR(25) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "MakeFlag",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "FinishedGoodsFlag",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "Color",
                    "type": "NVARCHAR(15) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "SafetyStockLevel",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "ReorderPoint",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "StandardCost",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ListPrice",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "Size",
                    "type": "NVARCHAR(5) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "SizeUnitMeasureCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "WeightUnitMeasureCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "Weight",
                    "type": "DECIMAL(8, 2)",
                    "nullable": true
                },
                {
                    "name": "DaysToManufacture",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductLine",
                    "type": "NCHAR(2) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "Class",
                    "type": "NCHAR(2) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "Style",
                    "type": "NCHAR(2) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "ProductSubcategoryID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "ProductModelID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "SellStartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "SellEndDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "DiscontinuedDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "ProductModel",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "ProductSubcategory",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "UnitMeasure",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "UnitMeasure",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductCategory": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductCategoryID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductCategoryID"
            ],
            "foreign_keys": []
        },
        "Production.ProductCostHistory": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "EndDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "StandardCost",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductID",
                "StartDate"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductDescription": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductDescriptionID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Description",
                    "type": "NVARCHAR(400) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductDescriptionID"
            ],
            "foreign_keys": []
        },
        "Production.ProductDocument": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "DocumentNode",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductID",
                "DocumentNode"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Document",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductInventory": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "LocationID",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "Shelf",
                    "type": "NVARCHAR(10) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Bin",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "Quantity",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductID",
                "LocationID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Location",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductListPriceHistory": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "EndDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "ListPrice",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductID",
                "StartDate"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductModel": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductModelID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "CatalogDescription",
                    "type": "XML",
                    "nullable": true
                },
                {
                    "name": "Instructions",
                    "type": "XML",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductModelID"
            ],
            "foreign_keys": []
        },
        "Production.ProductModelIllustration": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductModelID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "IllustrationID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductModelID",
                "IllustrationID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Illustration",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "ProductModel",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductModelProductDescriptionCulture": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductModelID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductDescriptionID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "CultureID",
                    "type": "NCHAR(6) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductModelID",
                "ProductDescriptionID",
                "CultureID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Culture",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "ProductDescription",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "ProductModel",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductPhoto": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductPhotoID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ThumbNailPhoto",
                    "type": "VARBINARY",
                    "nullable": true
                },
                {
                    "name": "ThumbnailPhotoFileName",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "LargePhoto",
                    "type": "VARBINARY",
                    "nullable": true
                },
                {
                    "name": "LargePhotoFileName",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductPhotoID"
            ],
            "foreign_keys": []
        },
        "Production.ProductProductPhoto": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductPhotoID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Primary",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductID",
                "ProductPhotoID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "ProductPhoto",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductReview": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductReviewID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ReviewerName",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ReviewDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "EmailAddress",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Rating",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Comments",
                    "type": "NVARCHAR(3850) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductReviewID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ProductSubcategory": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductSubcategoryID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductCategoryID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductSubcategoryID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "ProductCategory",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.ScrapReason": {
            "type": "table",
            "columns": [
                {
                    "name": "ScrapReasonID",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ScrapReasonID"
            ],
            "foreign_keys": []
        },
        "Production.TransactionHistory": {
            "type": "table",
            "columns": [
                {
                    "name": "TransactionID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ReferenceOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ReferenceOrderLineID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "TransactionDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "TransactionType",
                    "type": "NCHAR(1) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Quantity",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ActualCost",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "TransactionID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.TransactionHistoryArchive": {
            "type": "table",
            "columns": [
                {
                    "name": "TransactionID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ReferenceOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ReferenceOrderLineID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "TransactionDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "TransactionType",
                    "type": "NCHAR(1) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Quantity",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ActualCost",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "TransactionID"
            ],
            "foreign_keys": []
        },
        "Production.UnitMeasure": {
            "type": "table",
            "columns": [
                {
                    "name": "UnitMeasureCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "UnitMeasureCode"
            ],
            "foreign_keys": []
        },
        "Production.WorkOrder": {
            "type": "table",
            "columns": [
                {
                    "name": "WorkOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "OrderQty",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StockedQty",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ScrappedQty",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "StartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "EndDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "DueDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "ScrapReasonID",
                    "type": "SMALLINT",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "WorkOrderID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "ScrapReason",
                    "referred_schema": "Production"
                }
            ]
        },
        "Production.WorkOrderRouting": {
            "type": "table",
            "columns": [
                {
                    "name": "WorkOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "OperationSequence",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "LocationID",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "ScheduledStartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "ScheduledEndDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "ActualStartDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "ActualEndDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "ActualResourceHrs",
                    "type": "DECIMAL(9, 4)",
                    "nullable": true
                },
                {
                    "name": "PlannedCost",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ActualCost",
                    "type": "MONEY",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "WorkOrderID",
                "ProductID",
                "OperationSequence"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Location",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "WorkOrder",
                    "referred_schema": "Production"
                }
            ]
        },
        "Purchasing.ProductVendor": {
            "type": "table",
            "columns": [
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "AverageLeadTime",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StandardPrice",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "LastReceiptCost",
                    "type": "MONEY",
                    "nullable": true
                },
                {
                    "name": "LastReceiptDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "MinOrderQty",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "MaxOrderQty",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "OnOrderQty",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "UnitMeasureCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ProductID",
                "BusinessEntityID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "UnitMeasure",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "Vendor",
                    "referred_schema": "Purchasing"
                }
            ]
        },
        "Purchasing.PurchaseOrderDetail": {
            "type": "table",
            "columns": [
                {
                    "name": "PurchaseOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PurchaseOrderDetailID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "DueDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "OrderQty",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "UnitPrice",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "LineTotal",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ReceivedQty",
                    "type": "DECIMAL(8, 2)",
                    "nullable": false
                },
                {
                    "name": "RejectedQty",
                    "type": "DECIMAL(8, 2)",
                    "nullable": false
                },
                {
                    "name": "StockedQty",
                    "type": "DECIMAL(9, 2)",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "PurchaseOrderID",
                "PurchaseOrderDetailID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "PurchaseOrderHeader",
                    "referred_schema": "Purchasing"
                }
            ]
        },
        "Purchasing.PurchaseOrderHeader": {
            "type": "table",
            "columns": [
                {
                    "name": "PurchaseOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "RevisionNumber",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "Status",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "EmployeeID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "VendorID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ShipMethodID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "OrderDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "ShipDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "SubTotal",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "TaxAmt",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "Freight",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "TotalDue",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "PurchaseOrderID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Employee",
                    "referred_schema": "HumanResources"
                },
                {
                    "referred_table": "ShipMethod",
                    "referred_schema": "Purchasing"
                },
                {
                    "referred_table": "Vendor",
                    "referred_schema": "Purchasing"
                }
            ]
        },
        "Purchasing.ShipMethod": {
            "type": "table",
            "columns": [
                {
                    "name": "ShipMethodID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ShipBase",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ShipRate",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ShipMethodID"
            ],
            "foreign_keys": []
        },
        "Purchasing.Vendor": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "AccountNumber",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "CreditRating",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "PreferredVendorStatus",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ActiveFlag",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "PurchasingWebServiceURL",
                    "type": "NVARCHAR(1024) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "BusinessEntity",
                    "referred_schema": "Person"
                }
            ]
        },
        "Sales.CountryRegionCurrency": {
            "type": "table",
            "columns": [
                {
                    "name": "CountryRegionCode",
                    "type": "NVARCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "CurrencyCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "CountryRegionCode",
                "CurrencyCode"
            ],
            "foreign_keys": [
                {
                    "referred_table": "CountryRegion",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "Currency",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.CreditCard": {
            "type": "table",
            "columns": [
                {
                    "name": "CreditCardID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "CardType",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "CardNumber",
                    "type": "NVARCHAR(25) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "ExpMonth",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "ExpYear",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "CreditCardID"
            ],
            "foreign_keys": []
        },
        "Sales.Currency": {
            "type": "table",
            "columns": [
                {
                    "name": "CurrencyCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "CurrencyCode"
            ],
            "foreign_keys": []
        },
        "Sales.CurrencyRate": {
            "type": "table",
            "columns": [
                {
                    "name": "CurrencyRateID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "CurrencyRateDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "FromCurrencyCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "ToCurrencyCode",
                    "type": "NCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "AverageRate",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "EndOfDayRate",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "CurrencyRateID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Currency",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "Currency",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.Customer": {
            "type": "table",
            "columns": [
                {
                    "name": "CustomerID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "PersonID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "StoreID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "TerritoryID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "AccountNumber",
                    "type": "VARCHAR(10) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "CustomerID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Person",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "SalesTerritory",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "Store",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.PersonCreditCard": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "CreditCardID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "CreditCardID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "CreditCard",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "Person",
                    "referred_schema": "Person"
                }
            ]
        },
        "Sales.SalesOrderDetail": {
            "type": "table",
            "columns": [
                {
                    "name": "SalesOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "SalesOrderDetailID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "CarrierTrackingNumber",
                    "type": "NVARCHAR(25) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "OrderQty",
                    "type": "SMALLINT",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "SpecialOfferID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "UnitPrice",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "UnitPriceDiscount",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "LineTotal",
                    "type": "NUMERIC(38, 6)",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SalesOrderID",
                "SalesOrderDetailID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "SalesOrderHeader",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "SpecialOfferProduct",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.SalesOrderHeader": {
            "type": "table",
            "columns": [
                {
                    "name": "SalesOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "RevisionNumber",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "OrderDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "DueDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "ShipDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "Status",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "OnlineOrderFlag",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "SalesOrderNumber",
                    "type": "NVARCHAR(25) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "PurchaseOrderNumber",
                    "type": "NULL",
                    "nullable": true
                },
                {
                    "name": "AccountNumber",
                    "type": "NULL",
                    "nullable": true
                },
                {
                    "name": "CustomerID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "SalesPersonID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "TerritoryID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "BillToAddressID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ShipToAddressID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ShipMethodID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "CreditCardID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "CreditCardApprovalCode",
                    "type": "VARCHAR(15) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "CurrencyRateID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "SubTotal",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "TaxAmt",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "Freight",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "TotalDue",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "Comment",
                    "type": "NVARCHAR(128) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SalesOrderID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Address",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "Address",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "CreditCard",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "CurrencyRate",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "Customer",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "SalesPerson",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "SalesTerritory",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "ShipMethod",
                    "referred_schema": "Purchasing"
                }
            ]
        },
        "Sales.SalesOrderHeaderSalesReason": {
            "type": "table",
            "columns": [
                {
                    "name": "SalesOrderID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "SalesReasonID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SalesOrderID",
                "SalesReasonID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "SalesOrderHeader",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "SalesReason",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.SalesPerson": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "TerritoryID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "SalesQuota",
                    "type": "MONEY",
                    "nullable": true
                },
                {
                    "name": "Bonus",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "CommissionPct",
                    "type": "SMALLMONEY",
                    "nullable": false
                },
                {
                    "name": "SalesYTD",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "SalesLastYear",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Employee",
                    "referred_schema": "HumanResources"
                },
                {
                    "referred_table": "SalesTerritory",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.SalesPersonQuotaHistory": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "QuotaDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "SalesQuota",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "QuotaDate"
            ],
            "foreign_keys": [
                {
                    "referred_table": "SalesPerson",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.SalesReason": {
            "type": "table",
            "columns": [
                {
                    "name": "SalesReasonID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ReasonType",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SalesReasonID"
            ],
            "foreign_keys": []
        },
        "Sales.SalesTaxRate": {
            "type": "table",
            "columns": [
                {
                    "name": "SalesTaxRateID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StateProvinceID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "TaxType",
                    "type": "TINYINT",
                    "nullable": false
                },
                {
                    "name": "TaxRate",
                    "type": "SMALLMONEY",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SalesTaxRateID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "StateProvince",
                    "referred_schema": "Person"
                }
            ]
        },
        "Sales.SalesTerritory": {
            "type": "table",
            "columns": [
                {
                    "name": "TerritoryID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "CountryRegionCode",
                    "type": "NVARCHAR(3) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Group",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "SalesYTD",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "SalesLastYear",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "CostYTD",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "CostLastYear",
                    "type": "MONEY",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "TerritoryID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "CountryRegion",
                    "referred_schema": "Person"
                }
            ]
        },
        "Sales.SalesTerritoryHistory": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "TerritoryID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "StartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "EndDate",
                    "type": "DATETIME",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID",
                "StartDate",
                "TerritoryID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "SalesPerson",
                    "referred_schema": "Sales"
                },
                {
                    "referred_table": "SalesTerritory",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.ShoppingCartItem": {
            "type": "table",
            "columns": [
                {
                    "name": "ShoppingCartItemID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ShoppingCartID",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Quantity",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "DateCreated",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "ShoppingCartItemID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                }
            ]
        },
        "Sales.SpecialOffer": {
            "type": "table",
            "columns": [
                {
                    "name": "SpecialOfferID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Description",
                    "type": "NVARCHAR(255) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "DiscountPct",
                    "type": "SMALLMONEY",
                    "nullable": false
                },
                {
                    "name": "Type",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "Category",
                    "type": "NVARCHAR(50) COLLATE \"SQL_Latin1_General_CP1_CI_AS\"",
                    "nullable": false
                },
                {
                    "name": "StartDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "EndDate",
                    "type": "DATETIME",
                    "nullable": false
                },
                {
                    "name": "MinQty",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "MaxQty",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SpecialOfferID"
            ],
            "foreign_keys": []
        },
        "Sales.SpecialOfferProduct": {
            "type": "table",
            "columns": [
                {
                    "name": "SpecialOfferID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "ProductID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "SpecialOfferID",
                "ProductID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "Product",
                    "referred_schema": "Production"
                },
                {
                    "referred_table": "SpecialOffer",
                    "referred_schema": "Sales"
                }
            ]
        },
        "Sales.Store": {
            "type": "table",
            "columns": [
                {
                    "name": "BusinessEntityID",
                    "type": "INTEGER",
                    "nullable": false
                },
                {
                    "name": "Name",
                    "type": "NULL",
                    "nullable": false
                },
                {
                    "name": "SalesPersonID",
                    "type": "INTEGER",
                    "nullable": true
                },
                {
                    "name": "Demographics",
                    "type": "XML",
                    "nullable": true
                },
                {
                    "name": "rowguid",
                    "type": "UNIQUEIDENTIFIER",
                    "nullable": false
                },
                {
                    "name": "ModifiedDate",
                    "type": "DATETIME",
                    "nullable": false
                }
            ],
            "primary_key": [
                "BusinessEntityID"
            ],
            "foreign_keys": [
                {
                    "referred_table": "BusinessEntity",
                    "referred_schema": "Person"
                },
                {
                    "referred_table": "SalesPerson",
                    "referred_schema": "Sales"
                }
            ]
        }
    },
    "indexes": {
        "dbo.AWBuildVersion": [],
        "dbo.DatabaseLog": [],
        "dbo.ErrorLog": [],
        "HumanResources.Department": [
            {
                "name": "AK_Department_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "HumanResources.Employee": [
            {
                "name": "AK_Employee_LoginID",
                "columns": [
                    "LoginID"
                ],
                "unique": true
            },
            {
                "name": "AK_Employee_NationalIDNumber",
                "columns": [
                    "NationalIDNumber"
                ],
                "unique": true
            },
            {
                "name": "AK_Employee_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_Employee_OrganizationLevel_OrganizationNode",
                "columns": [
                    "OrganizationLevel",
                    "OrganizationNode"
                ],
                "unique": false
            },
            {
                "name": "IX_Employee_OrganizationNode",
                "columns": [
                    "OrganizationNode"
                ],
                "unique": false
            }
        ],
        "HumanResources.EmployeeDepartmentHistory": [
            {
                "name": "IX_EmployeeDepartmentHistory_DepartmentID",
                "columns": [
                    "DepartmentID"
                ],
                "unique": false
            },
            {
                "name": "IX_EmployeeDepartmentHistory_ShiftID",
                "columns": [
                    "ShiftID"
                ],
                "unique": false
            }
        ],
        "HumanResources.EmployeePayHistory": [],
        "HumanResources.JobCandidate": [
            {
                "name": "IX_JobCandidate_BusinessEntityID",
                "columns": [
                    "BusinessEntityID"
                ],
                "unique": false
            }
        ],
        "HumanResources.Shift": [
            {
                "name": "AK_Shift_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_Shift_StartTime_EndTime",
                "columns": [
                    "StartTime",
                    "EndTime"
                ],
                "unique": true
            }
        ],
        "Person.Address": [
            {
                "name": "AK_Address_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_Address_AddressLine1_AddressLine2_City_StateProvinceID_PostalCode",
                "columns": [
                    "AddressLine1",
                    "AddressLine2",
                    "City",
                    "StateProvinceID",
                    "PostalCode"
                ],
                "unique": true
            },
            {
                "name": "IX_Address_StateProvinceID",
                "columns": [
                    "StateProvinceID"
                ],
                "unique": false
            }
        ],
        "Person.AddressType": [
            {
                "name": "AK_AddressType_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_AddressType_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Person.BusinessEntity": [
            {
                "name": "AK_BusinessEntity_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Person.BusinessEntityAddress": [
            {
                "name": "AK_BusinessEntityAddress_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_BusinessEntityAddress_AddressID",
                "columns": [
                    "AddressID"
                ],
                "unique": false
            },
            {
                "name": "IX_BusinessEntityAddress_AddressTypeID",
                "columns": [
                    "AddressTypeID"
                ],
                "unique": false
            }
        ],
        "Person.BusinessEntityContact": [
            {
                "name": "AK_BusinessEntityContact_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_BusinessEntityContact_ContactTypeID",
                "columns": [
                    "ContactTypeID"
                ],
                "unique": false
            },
            {
                "name": "IX_BusinessEntityContact_PersonID",
                "columns": [
                    "PersonID"
                ],
                "unique": false
            }
        ],
        "Person.ContactType": [
            {
                "name": "AK_ContactType_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "Person.CountryRegion": [
            {
                "name": "AK_CountryRegion_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "Person.EmailAddress": [
            {
                "name": "IX_EmailAddress_EmailAddress",
                "columns": [
                    "EmailAddress"
                ],
                "unique": false
            }
        ],
        "Person.Password": [],
        "Person.Person": [
            {
                "name": "AK_Person_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_Person_LastName_FirstName_MiddleName",
                "columns": [
                    "LastName",
                    "FirstName",
                    "MiddleName"
                ],
                "unique": false
            },
            {
                "name": "PXML_Person_AddContact",
                "columns": [
                    "AdditionalContactInfo"
                ],
                "unique": false
            },
            {
                "name": "PXML_Person_Demographics",
                "columns": [
                    "Demographics"
                ],
                "unique": false
            },
            {
                "name": "XMLPATH_Person_Demographics",
                "columns": [
                    "Demographics"
                ],
                "unique": false
            },
            {
                "name": "XMLPROPERTY_Person_Demographics",
                "columns": [
                    "Demographics"
                ],
                "unique": false
            },
            {
                "name": "XMLVALUE_Person_Demographics",
                "columns": [
                    "Demographics"
                ],
                "unique": false
            }
        ],
        "Person.PersonPhone": [
            {
                "name": "IX_PersonPhone_PhoneNumber",
                "columns": [
                    "PhoneNumber"
                ],
                "unique": false
            }
        ],
        "Person.PhoneNumberType": [],
        "Person.StateProvince": [
            {
                "name": "AK_StateProvince_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_StateProvince_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "AK_StateProvince_StateProvinceCode_CountryRegionCode",
                "columns": [
                    "StateProvinceCode",
                    "CountryRegionCode"
                ],
                "unique": true
            }
        ],
        "Production.BillOfMaterials": [
            {
                "name": "AK_BillOfMaterials_ProductAssemblyID_ComponentID_StartDate",
                "columns": [
                    "ProductAssemblyID",
                    "ComponentID",
                    "StartDate"
                ],
                "unique": true
            },
            {
                "name": "IX_BillOfMaterials_UnitMeasureCode",
                "columns": [
                    "UnitMeasureCode"
                ],
                "unique": false
            }
        ],
        "Production.Culture": [
            {
                "name": "AK_Culture_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "Production.Document": [
            {
                "name": "AK_Document_DocumentLevel_DocumentNode",
                "columns": [
                    "DocumentLevel",
                    "DocumentNode"
                ],
                "unique": true
            },
            {
                "name": "AK_Document_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_Document_FileName_Revision",
                "columns": [
                    "FileName",
                    "Revision"
                ],
                "unique": false
            },
            {
                "name": "UQ__Document__F73921F7C81C642F",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Production.Illustration": [],
        "Production.Location": [
            {
                "name": "AK_Location_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "Production.Product": [
            {
                "name": "AK_Product_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_Product_ProductNumber",
                "columns": [
                    "ProductNumber"
                ],
                "unique": true
            },
            {
                "name": "AK_Product_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Production.ProductCategory": [
            {
                "name": "AK_ProductCategory_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_ProductCategory_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Production.ProductCostHistory": [],
        "Production.ProductDescription": [
            {
                "name": "AK_ProductDescription_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Production.ProductDocument": [],
        "Production.ProductInventory": [],
        "Production.ProductListPriceHistory": [],
        "Production.ProductModel": [
            {
                "name": "AK_ProductModel_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_ProductModel_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "PXML_ProductModel_CatalogDescription",
                "columns": [
                    "CatalogDescription"
                ],
                "unique": false
            },
            {
                "name": "PXML_ProductModel_Instructions",
                "columns": [
                    "Instructions"
                ],
                "unique": false
            }
        ],
        "Production.ProductModelIllustration": [],
        "Production.ProductModelProductDescriptionCulture": [],
        "Production.ProductPhoto": [],
        "Production.ProductProductPhoto": [],
        "Production.ProductReview": [
            {
                "name": "IX_ProductReview_ProductID_Name",
                "columns": [
                    "ProductID",
                    "ReviewerName"
                ],
                "unique": false
            }
        ],
        "Production.ProductSubcategory": [
            {
                "name": "AK_ProductSubcategory_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_ProductSubcategory_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Production.ScrapReason": [
            {
                "name": "AK_ScrapReason_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "Production.TransactionHistory": [
            {
                "name": "IX_TransactionHistory_ProductID",
                "columns": [
                    "ProductID"
                ],
                "unique": false
            },
            {
                "name": "IX_TransactionHistory_ReferenceOrderID_ReferenceOrderLineID",
                "columns": [
                    "ReferenceOrderID",
                    "ReferenceOrderLineID"
                ],
                "unique": false
            }
        ],
        "Production.TransactionHistoryArchive": [
            {
                "name": "IX_TransactionHistoryArchive_ProductID",
                "columns": [
                    "ProductID"
                ],
                "unique": false
            },
            {
                "name": "IX_TransactionHistoryArchive_ReferenceOrderID_ReferenceOrderLineID",
                "columns": [
                    "ReferenceOrderID",
                    "ReferenceOrderLineID"
                ],
                "unique": false
            }
        ],
        "Production.UnitMeasure": [
            {
                "name": "AK_UnitMeasure_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "Production.WorkOrder": [
            {
                "name": "IX_WorkOrder_ProductID",
                "columns": [
                    "ProductID"
                ],
                "unique": false
            },
            {
                "name": "IX_WorkOrder_ScrapReasonID",
                "columns": [
                    "ScrapReasonID"
                ],
                "unique": false
            }
        ],
        "Production.WorkOrderRouting": [
            {
                "name": "IX_WorkOrderRouting_ProductID",
                "columns": [
                    "ProductID"
                ],
                "unique": false
            }
        ],
        "Purchasing.ProductVendor": [
            {
                "name": "IX_ProductVendor_BusinessEntityID",
                "columns": [
                    "BusinessEntityID"
                ],
                "unique": false
            },
            {
                "name": "IX_ProductVendor_UnitMeasureCode",
                "columns": [
                    "UnitMeasureCode"
                ],
                "unique": false
            }
        ],
        "Purchasing.PurchaseOrderDetail": [
            {
                "name": "IX_PurchaseOrderDetail_ProductID",
                "columns": [
                    "ProductID"
                ],
                "unique": false
            }
        ],
        "Purchasing.PurchaseOrderHeader": [
            {
                "name": "IX_PurchaseOrderHeader_EmployeeID",
                "columns": [
                    "EmployeeID"
                ],
                "unique": false
            },
            {
                "name": "IX_PurchaseOrderHeader_VendorID",
                "columns": [
                    "VendorID"
                ],
                "unique": false
            }
        ],
        "Purchasing.ShipMethod": [
            {
                "name": "AK_ShipMethod_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_ShipMethod_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Purchasing.Vendor": [
            {
                "name": "AK_Vendor_AccountNumber",
                "columns": [
                    "AccountNumber"
                ],
                "unique": true
            }
        ],
        "Sales.CountryRegionCurrency": [
            {
                "name": "IX_CountryRegionCurrency_CurrencyCode",
                "columns": [
                    "CurrencyCode"
                ],
                "unique": false
            }
        ],
        "Sales.CreditCard": [
            {
                "name": "AK_CreditCard_CardNumber",
                "columns": [
                    "CardNumber"
                ],
                "unique": true
            }
        ],
        "Sales.Currency": [
            {
                "name": "AK_Currency_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            }
        ],
        "Sales.CurrencyRate": [
            {
                "name": "AK_CurrencyRate_CurrencyRateDate_FromCurrencyCode_ToCurrencyCode",
                "columns": [
                    "CurrencyRateDate",
                    "FromCurrencyCode",
                    "ToCurrencyCode"
                ],
                "unique": true
            }
        ],
        "Sales.Customer": [
            {
                "name": "AK_Customer_AccountNumber",
                "columns": [
                    "AccountNumber"
                ],
                "unique": true
            },
            {
                "name": "AK_Customer_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_Customer_TerritoryID",
                "columns": [
                    "TerritoryID"
                ],
                "unique": false
            }
        ],
        "Sales.PersonCreditCard": [],
        "Sales.SalesOrderDetail": [
            {
                "name": "AK_SalesOrderDetail_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_SalesOrderDetail_ProductID",
                "columns": [
                    "ProductID"
                ],
                "unique": false
            }
        ],
        "Sales.SalesOrderHeader": [
            {
                "name": "AK_SalesOrderHeader_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "AK_SalesOrderHeader_SalesOrderNumber",
                "columns": [
                    "SalesOrderNumber"
                ],
                "unique": true
            },
            {
                "name": "IX_SalesOrderHeader_CustomerID",
                "columns": [
                    "CustomerID"
                ],
                "unique": false
            },
            {
                "name": "IX_SalesOrderHeader_SalesPersonID",
                "columns": [
                    "SalesPersonID"
                ],
                "unique": false
            }
        ],
        "Sales.SalesOrderHeaderSalesReason": [],
        "Sales.SalesPerson": [
            {
                "name": "AK_SalesPerson_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Sales.SalesPersonQuotaHistory": [
            {
                "name": "AK_SalesPersonQuotaHistory_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Sales.SalesReason": [],
        "Sales.SalesTaxRate": [
            {
                "name": "AK_SalesTaxRate_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "AK_SalesTaxRate_StateProvinceID_TaxType",
                "columns": [
                    "StateProvinceID",
                    "TaxType"
                ],
                "unique": true
            }
        ],
        "Sales.SalesTerritory": [
            {
                "name": "AK_SalesTerritory_Name",
                "columns": [
                    "Name"
                ],
                "unique": true
            },
            {
                "name": "AK_SalesTerritory_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Sales.SalesTerritoryHistory": [
            {
                "name": "AK_SalesTerritoryHistory_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Sales.ShoppingCartItem": [
            {
                "name": "IX_ShoppingCartItem_ShoppingCartID_ProductID",
                "columns": [
                    "ShoppingCartID",
                    "ProductID"
                ],
                "unique": false
            }
        ],
        "Sales.SpecialOffer": [
            {
                "name": "AK_SpecialOffer_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            }
        ],
        "Sales.SpecialOfferProduct": [
            {
                "name": "AK_SpecialOfferProduct_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_SpecialOfferProduct_ProductID",
                "columns": [
                    "ProductID"
                ],
                "unique": false
            }
        ],
        "Sales.Store": [
            {
                "name": "AK_Store_rowguid",
                "columns": [
                    "rowguid"
                ],
                "unique": true
            },
            {
                "name": "IX_Store_SalesPersonID",
                "columns": [
                    "SalesPersonID"
                ],
                "unique": false
            },
            {
                "name": "PXML_Store_Demographics",
                "columns": [
                    "Demographics"
                ],
                "unique": false
            }
        ]
    },
    "logic": {
        "views": {
            "Person.vAdditionalContactInfo": "\r\nCREATE VIEW [Person].[vAdditionalContactInfo] \r\nAS \r\nSELECT \r\n    [BusinessEntityID] \r\n    ,[FirstName]\r\n    ,[MiddleName]\r\n    ,[LastName]\r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:telephoneNumber)[1]/act:number', 'nvarchar(50)') AS [TelephoneNumber] \r\n    ,LTRIM(RTRIM([ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:telephoneNumber/act:SpecialInstructions/text())[1]', 'nvarchar(max)'))) AS [TelephoneSpecialInstructions] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\";\r\n        (act:homePostalAddress/act:Street)[1]', 'nvarchar(50)') AS [Street] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:homePostalAddress/act:City)[1]', 'nvarchar(50)') AS [City] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:homePostalAddress/act:StateProvince)[1]', 'nvarchar(50)') AS [StateProvince] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:homePostalAddress/act:PostalCode)[1]', 'nvarchar(50)') AS [PostalCode] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:homePostalAddress/act:CountryRegion)[1]', 'nvarchar(50)') AS [CountryRegion] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:homePostalAddress/act:SpecialInstructions/text())[1]', 'nvarchar(max)') AS [HomeAddressSpecialInstructions] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:eMail/act:eMailAddress)[1]', 'nvarchar(128)') AS [EMailAddress] \r\n    ,LTRIM(RTRIM([ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:eMail/act:SpecialInstructions/text())[1]', 'nvarchar(max)'))) AS [EMailSpecialInstructions] \r\n    ,[ContactInfo].ref.value(N'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n        declare namespace act=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactTypes\"; \r\n        (act:eMail/act:SpecialInstructions/act:telephoneNumber/act:number)[1]', 'nvarchar(50)') AS [EMailTelephoneNumber] \r\n    ,[rowguid] \r\n    ,[ModifiedDate]\r\nFROM [Person].[Person]\r\nOUTER APPLY [AdditionalContactInfo].nodes(\r\n    'declare namespace ci=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ContactInfo\"; \r\n    /ci:AdditionalContactInfo') AS ContactInfo(ref) \r\nWHERE [AdditionalContactInfo] IS NOT NULL;\r\n",
            "HumanResources.vEmployee": "\r\nCREATE VIEW [HumanResources].[vEmployee] \r\nAS \r\nSELECT \r\n    e.[BusinessEntityID]\r\n    ,p.[Title]\r\n    ,p.[FirstName]\r\n    ,p.[MiddleName]\r\n    ,p.[LastName]\r\n    ,p.[Suffix]\r\n    ,e.[JobTitle]  \r\n    ,pp.[PhoneNumber]\r\n    ,pnt.[Name] AS [PhoneNumberType]\r\n    ,ea.[EmailAddress]\r\n    ,p.[EmailPromotion]\r\n    ,a.[AddressLine1]\r\n    ,a.[AddressLine2]\r\n    ,a.[City]\r\n    ,sp.[Name] AS [StateProvinceName] \r\n    ,a.[PostalCode]\r\n    ,cr.[Name] AS [CountryRegionName] \r\n    ,p.[AdditionalContactInfo]\r\nFROM [HumanResources].[Employee] e\r\n\tINNER JOIN [Person].[Person] p\r\n\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n    INNER JOIN [Person].[BusinessEntityAddress] bea \r\n    ON bea.[BusinessEntityID] = e.[BusinessEntityID] \r\n    INNER JOIN [Person].[Address] a \r\n    ON a.[AddressID] = bea.[AddressID]\r\n    INNER JOIN [Person].[StateProvince] sp \r\n    ON sp.[StateProvinceID] = a.[StateProvinceID]\r\n    INNER JOIN [Person].[CountryRegion] cr \r\n    ON cr.[CountryRegionCode] = sp.[CountryRegionCode]\r\n    LEFT OUTER JOIN [Person].[PersonPhone] pp\r\n    ON pp.BusinessEntityID = p.[BusinessEntityID]\r\n    LEFT OUTER JOIN [Person].[PhoneNumberType] pnt\r\n    ON pp.[PhoneNumberTypeID] = pnt.[PhoneNumberTypeID]\r\n    LEFT OUTER JOIN [Person].[EmailAddress] ea\r\n    ON p.[BusinessEntityID] = ea.[BusinessEntityID];\r\n",
            "HumanResources.vEmployeeDepartment": "\r\nCREATE VIEW [HumanResources].[vEmployeeDepartment] \r\nAS \r\nSELECT \r\n    e.[BusinessEntityID] \r\n    ,p.[Title] \r\n    ,p.[FirstName] \r\n    ,p.[MiddleName] \r\n    ,p.[LastName] \r\n    ,p.[Suffix] \r\n    ,e.[JobTitle]\r\n    ,d.[Name] AS [Department] \r\n    ,d.[GroupName] \r\n    ,edh.[StartDate] \r\nFROM [HumanResources].[Employee] e\r\n\tINNER JOIN [Person].[Person] p\r\n\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n    INNER JOIN [HumanResources].[EmployeeDepartmentHistory] edh \r\n    ON e.[BusinessEntityID] = edh.[BusinessEntityID] \r\n    INNER JOIN [HumanResources].[Department] d \r\n    ON edh.[DepartmentID] = d.[DepartmentID] \r\nWHERE edh.EndDate IS NULL\r\n",
            "HumanResources.vEmployeeDepartmentHistory": "\r\nCREATE VIEW [HumanResources].[vEmployeeDepartmentHistory] \r\nAS \r\nSELECT \r\n    e.[BusinessEntityID] \r\n    ,p.[Title] \r\n    ,p.[FirstName] \r\n    ,p.[MiddleName] \r\n    ,p.[LastName] \r\n    ,p.[Suffix] \r\n    ,s.[Name] AS [Shift]\r\n    ,d.[Name] AS [Department] \r\n    ,d.[GroupName] \r\n    ,edh.[StartDate] \r\n    ,edh.[EndDate]\r\nFROM [HumanResources].[Employee] e\r\n\tINNER JOIN [Person].[Person] p\r\n\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n    INNER JOIN [HumanResources].[EmployeeDepartmentHistory] edh \r\n    ON e.[BusinessEntityID] = edh.[BusinessEntityID] \r\n    INNER JOIN [HumanResources].[Department] d \r\n    ON edh.[DepartmentID] = d.[DepartmentID] \r\n    INNER JOIN [HumanResources].[Shift] s\r\n    ON s.[ShiftID] = edh.[ShiftID];\r\n",
            "Sales.vIndividualCustomer": "\r\nCREATE VIEW [Sales].[vIndividualCustomer] \r\nAS \r\nSELECT \r\n    p.[BusinessEntityID]\r\n    ,p.[Title]\r\n    ,p.[FirstName]\r\n    ,p.[MiddleName]\r\n    ,p.[LastName]\r\n    ,p.[Suffix]\r\n    ,pp.[PhoneNumber]\r\n\t,pnt.[Name] AS [PhoneNumberType]\r\n    ,ea.[EmailAddress]\r\n    ,p.[EmailPromotion]\r\n    ,at.[Name] AS [AddressType]\r\n    ,a.[AddressLine1]\r\n    ,a.[AddressLine2]\r\n    ,a.[City]\r\n    ,[StateProvinceName] = sp.[Name]\r\n    ,a.[PostalCode]\r\n    ,[CountryRegionName] = cr.[Name]\r\n    ,p.[Demographics]\r\nFROM [Person].[Person] p\r\n    INNER JOIN [Person].[BusinessEntityAddress] bea \r\n    ON bea.[BusinessEntityID] = p.[BusinessEntityID] \r\n    INNER JOIN [Person].[Address] a \r\n    ON a.[AddressID] = bea.[AddressID]\r\n    INNER JOIN [Person].[StateProvince] sp \r\n    ON sp.[StateProvinceID] = a.[StateProvinceID]\r\n    INNER JOIN [Person].[CountryRegion] cr \r\n    ON cr.[CountryRegionCode] = sp.[CountryRegionCode]\r\n    INNER JOIN [Person].[AddressType] at \r\n    ON at.[AddressTypeID] = bea.[AddressTypeID]\r\n\tINNER JOIN [Sales].[Customer] c\r\n\tON c.[PersonID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[EmailAddress] ea\r\n\tON ea.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PersonPhone] pp\r\n\tON pp.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PhoneNumberType] pnt\r\n\tON pnt.[PhoneNumberTypeID] = pp.[PhoneNumberTypeID]\r\nWHERE c.StoreID IS NULL;\r\n",
            "Sales.vPersonDemographics": "\r\nCREATE VIEW [Sales].[vPersonDemographics] \r\nAS \r\nSELECT \r\n    p.[BusinessEntityID] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        TotalPurchaseYTD[1]', 'money') AS [TotalPurchaseYTD] \r\n    ,CONVERT(datetime, REPLACE([IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        DateFirstPurchase[1]', 'nvarchar(20)') ,'Z', ''), 101) AS [DateFirstPurchase] \r\n    ,CONVERT(datetime, REPLACE([IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        BirthDate[1]', 'nvarchar(20)') ,'Z', ''), 101) AS [BirthDate] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        MaritalStatus[1]', 'nvarchar(1)') AS [MaritalStatus] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        YearlyIncome[1]', 'nvarchar(30)') AS [YearlyIncome] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        Gender[1]', 'nvarchar(1)') AS [Gender] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        TotalChildren[1]', 'integer') AS [TotalChildren] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        NumberChildrenAtHome[1]', 'integer') AS [NumberChildrenAtHome] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        Education[1]', 'nvarchar(30)') AS [Education] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        Occupation[1]', 'nvarchar(30)') AS [Occupation] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        HomeOwnerFlag[1]', 'bit') AS [HomeOwnerFlag] \r\n    ,[IndividualSurvey].[ref].[value](N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n        NumberCarsOwned[1]', 'integer') AS [NumberCarsOwned] \r\nFROM [Person].[Person] p \r\nCROSS APPLY p.[Demographics].nodes(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n    /IndividualSurvey') AS [IndividualSurvey](ref) \r\nWHERE [Demographics] IS NOT NULL;\r\n",
            "HumanResources.vJobCandidate": "\r\nCREATE VIEW [HumanResources].[vJobCandidate] \r\nAS \r\nSELECT \r\n    jc.[JobCandidateID] \r\n    ,jc.[BusinessEntityID] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (/Resume/Name/Name.Prefix)[1]', 'nvarchar(30)') AS [Name.Prefix] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\";\r\n        (/Resume/Name/Name.First)[1]', 'nvarchar(30)') AS [Name.First] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (/Resume/Name/Name.Middle)[1]', 'nvarchar(30)') AS [Name.Middle] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (/Resume/Name/Name.Last)[1]', 'nvarchar(30)') AS [Name.Last] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (/Resume/Name/Name.Suffix)[1]', 'nvarchar(30)') AS [Name.Suffix] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (/Resume/Skills)[1]', 'nvarchar(max)') AS [Skills] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Address/Addr.Type)[1]', 'nvarchar(30)') AS [Addr.Type]\r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Address/Addr.Location/Location/Loc.CountryRegion)[1]', 'nvarchar(100)') AS [Addr.Loc.CountryRegion]\r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Address/Addr.Location/Location/Loc.State)[1]', 'nvarchar(100)') AS [Addr.Loc.State]\r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Address/Addr.Location/Location/Loc.City)[1]', 'nvarchar(100)') AS [Addr.Loc.City]\r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Address/Addr.PostalCode)[1]', 'nvarchar(20)') AS [Addr.PostalCode]\r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (/Resume/EMail)[1]', 'nvarchar(max)') AS [EMail] \r\n    ,[Resume].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (/Resume/WebSite)[1]', 'nvarchar(max)') AS [WebSite] \r\n    ,jc.[ModifiedDate] \r\nFROM [HumanResources].[JobCandidate] jc \r\nCROSS APPLY jc.[Resume].nodes(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n    /Resume') AS Resume(ref);\r\n",
            "HumanResources.vJobCandidateEmployment": "\r\nCREATE VIEW [HumanResources].[vJobCandidateEmployment] \r\nAS \r\nSELECT \r\n    jc.[JobCandidateID] \r\n    ,CONVERT(datetime, REPLACE([Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.StartDate)[1]', 'nvarchar(20)') ,'Z', ''), 101) AS [Emp.StartDate] \r\n    ,CONVERT(datetime, REPLACE([Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.EndDate)[1]', 'nvarchar(20)') ,'Z', ''), 101) AS [Emp.EndDate] \r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.OrgName)[1]', 'nvarchar(100)') AS [Emp.OrgName]\r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.JobTitle)[1]', 'nvarchar(100)') AS [Emp.JobTitle]\r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.Responsibility)[1]', 'nvarchar(max)') AS [Emp.Responsibility]\r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.FunctionCategory)[1]', 'nvarchar(max)') AS [Emp.FunctionCategory]\r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.IndustryCategory)[1]', 'nvarchar(max)') AS [Emp.IndustryCategory]\r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.Location/Location/Loc.CountryRegion)[1]', 'nvarchar(max)') AS [Emp.Loc.CountryRegion]\r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.Location/Location/Loc.State)[1]', 'nvarchar(max)') AS [Emp.Loc.State]\r\n    ,[Employment].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Emp.Location/Location/Loc.City)[1]', 'nvarchar(max)') AS [Emp.Loc.City]\r\nFROM [HumanResources].[JobCandidate] jc \r\nCROSS APPLY jc.[Resume].nodes(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n    /Resume/Employment') AS Employment(ref);\r\n",
            "HumanResources.vJobCandidateEducation": "\r\nCREATE VIEW [HumanResources].[vJobCandidateEducation] \r\nAS \r\nSELECT \r\n    jc.[JobCandidateID] \r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.Level)[1]', 'nvarchar(max)') AS [Edu.Level]\r\n    ,CONVERT(datetime, REPLACE([Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.StartDate)[1]', 'nvarchar(20)') ,'Z', ''), 101) AS [Edu.StartDate] \r\n    ,CONVERT(datetime, REPLACE([Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.EndDate)[1]', 'nvarchar(20)') ,'Z', ''), 101) AS [Edu.EndDate] \r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.Degree)[1]', 'nvarchar(50)') AS [Edu.Degree]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.Major)[1]', 'nvarchar(50)') AS [Edu.Major]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.Minor)[1]', 'nvarchar(50)') AS [Edu.Minor]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.GPA)[1]', 'nvarchar(5)') AS [Edu.GPA]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.GPAScale)[1]', 'nvarchar(5)') AS [Edu.GPAScale]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.School)[1]', 'nvarchar(100)') AS [Edu.School]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.Location/Location/Loc.CountryRegion)[1]', 'nvarchar(100)') AS [Edu.Loc.CountryRegion]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.Location/Location/Loc.State)[1]', 'nvarchar(100)') AS [Edu.Loc.State]\r\n    ,[Education].ref.value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n        (Edu.Location/Location/Loc.City)[1]', 'nvarchar(100)') AS [Edu.Loc.City]\r\nFROM [HumanResources].[JobCandidate] jc \r\nCROSS APPLY jc.[Resume].nodes(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/Resume\"; \r\n    /Resume/Education') AS [Education](ref);\r\n",
            "Production.vProductAndDescription": "\r\nCREATE VIEW [Production].[vProductAndDescription] \r\nWITH SCHEMABINDING \r\nAS \r\n-- View (indexed or standard) to display products and product descriptions by language.\r\nSELECT \r\n    p.[ProductID] \r\n    ,p.[Name] \r\n    ,pm.[Name] AS [ProductModel] \r\n    ,pmx.[CultureID] \r\n    ,pd.[Description] \r\nFROM [Production].[Product] p \r\n    INNER JOIN [Production].[ProductModel] pm \r\n    ON p.[ProductModelID] = pm.[ProductModelID] \r\n    INNER JOIN [Production].[ProductModelProductDescriptionCulture] pmx \r\n    ON pm.[ProductModelID] = pmx.[ProductModelID] \r\n    INNER JOIN [Production].[ProductDescription] pd \r\n    ON pmx.[ProductDescriptionID] = pd.[ProductDescriptionID];\r\n",
            "Production.vProductModelCatalogDescription": "\r\nCREATE VIEW [Production].[vProductModelCatalogDescription] \r\nAS \r\nSELECT \r\n    [ProductModelID] \r\n    ,[Name] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace html=\"http://www.w3.org/1999/xhtml\"; \r\n        (/p1:ProductDescription/p1:Summary/html:p)[1]', 'nvarchar(max)') AS [Summary] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Manufacturer/p1:Name)[1]', 'nvarchar(max)') AS [Manufacturer] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Manufacturer/p1:Copyright)[1]', 'nvarchar(30)') AS [Copyright] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Manufacturer/p1:ProductURL)[1]', 'nvarchar(256)') AS [ProductURL] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wm=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelWarrAndMain\"; \r\n        (/p1:ProductDescription/p1:Features/wm:Warranty/wm:WarrantyPeriod)[1]', 'nvarchar(256)') AS [WarrantyPeriod] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wm=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelWarrAndMain\"; \r\n        (/p1:ProductDescription/p1:Features/wm:Warranty/wm:Description)[1]', 'nvarchar(256)') AS [WarrantyDescription] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wm=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelWarrAndMain\"; \r\n        (/p1:ProductDescription/p1:Features/wm:Maintenance/wm:NoOfYears)[1]', 'nvarchar(256)') AS [NoOfYears] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wm=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelWarrAndMain\"; \r\n        (/p1:ProductDescription/p1:Features/wm:Maintenance/wm:Description)[1]', 'nvarchar(256)') AS [MaintenanceDescription] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wf=\"http://www.adventure-works.com/schemas/OtherFeatures\"; \r\n        (/p1:ProductDescription/p1:Features/wf:wheel)[1]', 'nvarchar(256)') AS [Wheel] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wf=\"http://www.adventure-works.com/schemas/OtherFeatures\"; \r\n        (/p1:ProductDescription/p1:Features/wf:saddle)[1]', 'nvarchar(256)') AS [Saddle] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wf=\"http://www.adventure-works.com/schemas/OtherFeatures\"; \r\n        (/p1:ProductDescription/p1:Features/wf:pedal)[1]', 'nvarchar(256)') AS [Pedal] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wf=\"http://www.adventure-works.com/schemas/OtherFeatures\"; \r\n        (/p1:ProductDescription/p1:Features/wf:BikeFrame)[1]', 'nvarchar(max)') AS [BikeFrame] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        declare namespace wf=\"http://www.adventure-works.com/schemas/OtherFeatures\"; \r\n        (/p1:ProductDescription/p1:Features/wf:crankset)[1]', 'nvarchar(256)') AS [Crankset] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Picture/p1:Angle)[1]', 'nvarchar(256)') AS [PictureAngle] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Picture/p1:Size)[1]', 'nvarchar(256)') AS [PictureSize] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Picture/p1:ProductPhotoID)[1]', 'nvarchar(256)') AS [ProductPhotoID] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Specifications/Material)[1]', 'nvarchar(256)') AS [Material] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Specifications/Color)[1]', 'nvarchar(256)') AS [Color] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Specifications/ProductLine)[1]', 'nvarchar(256)') AS [ProductLine] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Specifications/Style)[1]', 'nvarchar(256)') AS [Style] \r\n    ,[CatalogDescription].value(N'declare namespace p1=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelDescription\"; \r\n        (/p1:ProductDescription/p1:Specifications/RiderExperience)[1]', 'nvarchar(1024)') AS [RiderExperience] \r\n    ,[rowguid] \r\n    ,[ModifiedDate]\r\nFROM [Production].[ProductModel] \r\nWHERE [CatalogDescription] IS NOT NULL;\r\n",
            "Production.vProductModelInstructions": "\r\nCREATE VIEW [Production].[vProductModelInstructions] \r\nAS \r\nSELECT \r\n    [ProductModelID] \r\n    ,[Name] \r\n    ,[Instructions].value(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelManuInstructions\"; \r\n        (/root/text())[1]', 'nvarchar(max)') AS [Instructions] \r\n    ,[MfgInstructions].ref.value('@LocationID[1]', 'int') AS [LocationID] \r\n    ,[MfgInstructions].ref.value('@SetupHours[1]', 'decimal(9, 4)') AS [SetupHours] \r\n    ,[MfgInstructions].ref.value('@MachineHours[1]', 'decimal(9, 4)') AS [MachineHours] \r\n    ,[MfgInstructions].ref.value('@LaborHours[1]', 'decimal(9, 4)') AS [LaborHours] \r\n    ,[MfgInstructions].ref.value('@LotSize[1]', 'int') AS [LotSize] \r\n    ,[Steps].ref.value('string(.)[1]', 'nvarchar(1024)') AS [Step] \r\n    ,[rowguid] \r\n    ,[ModifiedDate]\r\nFROM [Production].[ProductModel] \r\nCROSS APPLY [Instructions].nodes(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelManuInstructions\"; \r\n    /root/Location') MfgInstructions(ref)\r\nCROSS APPLY [MfgInstructions].ref.nodes('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/ProductModelManuInstructions\"; \r\n    step') Steps(ref);\r\n",
            "Sales.vSalesPerson": "\r\nCREATE VIEW [Sales].[vSalesPerson] \r\nAS \r\nSELECT \r\n    s.[BusinessEntityID]\r\n    ,p.[Title]\r\n    ,p.[FirstName]\r\n    ,p.[MiddleName]\r\n    ,p.[LastName]\r\n    ,p.[Suffix]\r\n    ,e.[JobTitle]\r\n    ,pp.[PhoneNumber]\r\n\t,pnt.[Name] AS [PhoneNumberType]\r\n    ,ea.[EmailAddress]\r\n    ,p.[EmailPromotion]\r\n    ,a.[AddressLine1]\r\n    ,a.[AddressLine2]\r\n    ,a.[City]\r\n    ,[StateProvinceName] = sp.[Name]\r\n    ,a.[PostalCode]\r\n    ,[CountryRegionName] = cr.[Name]\r\n    ,[TerritoryName] = st.[Name]\r\n    ,[TerritoryGroup] = st.[Group]\r\n    ,s.[SalesQuota]\r\n    ,s.[SalesYTD]\r\n    ,s.[SalesLastYear]\r\nFROM [Sales].[SalesPerson] s\r\n    INNER JOIN [HumanResources].[Employee] e \r\n    ON e.[BusinessEntityID] = s.[BusinessEntityID]\r\n\tINNER JOIN [Person].[Person] p\r\n\tON p.[BusinessEntityID] = s.[BusinessEntityID]\r\n    INNER JOIN [Person].[BusinessEntityAddress] bea \r\n    ON bea.[BusinessEntityID] = s.[BusinessEntityID] \r\n    INNER JOIN [Person].[Address] a \r\n    ON a.[AddressID] = bea.[AddressID]\r\n    INNER JOIN [Person].[StateProvince] sp \r\n    ON sp.[StateProvinceID] = a.[StateProvinceID]\r\n    INNER JOIN [Person].[CountryRegion] cr \r\n    ON cr.[CountryRegionCode] = sp.[CountryRegionCode]\r\n    LEFT OUTER JOIN [Sales].[SalesTerritory] st \r\n    ON st.[TerritoryID] = s.[TerritoryID]\r\n\tLEFT OUTER JOIN [Person].[EmailAddress] ea\r\n\tON ea.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PersonPhone] pp\r\n\tON pp.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PhoneNumberType] pnt\r\n\tON pnt.[PhoneNumberTypeID] = pp.[PhoneNumberTypeID];\r\n",
            "Sales.vSalesPersonSalesByFiscalYears": "\r\nCREATE VIEW [Sales].[vSalesPersonSalesByFiscalYears] \r\nAS \r\nSELECT \r\n    pvt.[SalesPersonID]\r\n    ,pvt.[FullName]\r\n    ,pvt.[JobTitle]\r\n    ,pvt.[SalesTerritory]\r\n    ,pvt.[2002]\r\n    ,pvt.[2003]\r\n    ,pvt.[2004] \r\nFROM (SELECT \r\n        soh.[SalesPersonID]\r\n        ,p.[FirstName] + ' ' + COALESCE(p.[MiddleName], '') + ' ' + p.[LastName] AS [FullName]\r\n        ,e.[JobTitle]\r\n        ,st.[Name] AS [SalesTerritory]\r\n        ,soh.[SubTotal]\r\n        ,YEAR(DATEADD(m, 6, soh.[OrderDate])) AS [FiscalYear] \r\n    FROM [Sales].[SalesPerson] sp \r\n        INNER JOIN [Sales].[SalesOrderHeader] soh \r\n        ON sp.[BusinessEntityID] = soh.[SalesPersonID]\r\n        INNER JOIN [Sales].[SalesTerritory] st \r\n        ON sp.[TerritoryID] = st.[TerritoryID] \r\n        INNER JOIN [HumanResources].[Employee] e \r\n        ON soh.[SalesPersonID] = e.[BusinessEntityID] \r\n\t\tINNER JOIN [Person].[Person] p\r\n\t\tON p.[BusinessEntityID] = sp.[BusinessEntityID]\r\n\t ) AS soh \r\nPIVOT \r\n(\r\n    SUM([SubTotal]) \r\n    FOR [FiscalYear] \r\n    IN ([2002], [2003], [2004])\r\n) AS pvt;\r\n",
            "Person.vStateProvinceCountryRegion": "\r\nCREATE VIEW [Person].[vStateProvinceCountryRegion] \r\nWITH SCHEMABINDING \r\nAS \r\nSELECT \r\n    sp.[StateProvinceID] \r\n    ,sp.[StateProvinceCode] \r\n    ,sp.[IsOnlyStateProvinceFlag] \r\n    ,sp.[Name] AS [StateProvinceName] \r\n    ,sp.[TerritoryID] \r\n    ,cr.[CountryRegionCode] \r\n    ,cr.[Name] AS [CountryRegionName]\r\nFROM [Person].[StateProvince] sp \r\n    INNER JOIN [Person].[CountryRegion] cr \r\n    ON sp.[CountryRegionCode] = cr.[CountryRegionCode];\r\n",
            "Sales.vStoreWithDemographics": "\r\nCREATE VIEW [Sales].[vStoreWithDemographics] AS \r\nSELECT \r\n    s.[BusinessEntityID] \r\n    ,s.[Name] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/AnnualSales)[1]', 'money') AS [AnnualSales] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/AnnualRevenue)[1]', 'money') AS [AnnualRevenue] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/BankName)[1]', 'nvarchar(50)') AS [BankName] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/BusinessType)[1]', 'nvarchar(5)') AS [BusinessType] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/YearOpened)[1]', 'integer') AS [YearOpened] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/Specialty)[1]', 'nvarchar(50)') AS [Specialty] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/SquareFeet)[1]', 'integer') AS [SquareFeet] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/Brands)[1]', 'nvarchar(30)') AS [Brands] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/Internet)[1]', 'nvarchar(30)') AS [Internet] \r\n    ,s.[Demographics].value('declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/StoreSurvey\"; \r\n        (/StoreSurvey/NumberEmployees)[1]', 'integer') AS [NumberEmployees] \r\nFROM [Sales].[Store] s;\r\n",
            "Sales.vStoreWithContacts": "\r\nCREATE VIEW [Sales].[vStoreWithContacts] AS \r\nSELECT \r\n    s.[BusinessEntityID] \r\n    ,s.[Name] \r\n    ,ct.[Name] AS [ContactType] \r\n    ,p.[Title] \r\n    ,p.[FirstName] \r\n    ,p.[MiddleName] \r\n    ,p.[LastName] \r\n    ,p.[Suffix] \r\n    ,pp.[PhoneNumber] \r\n\t,pnt.[Name] AS [PhoneNumberType]\r\n    ,ea.[EmailAddress] \r\n    ,p.[EmailPromotion] \r\nFROM [Sales].[Store] s\r\n    INNER JOIN [Person].[BusinessEntityContact] bec \r\n    ON bec.[BusinessEntityID] = s.[BusinessEntityID]\r\n\tINNER JOIN [Person].[ContactType] ct\r\n\tON ct.[ContactTypeID] = bec.[ContactTypeID]\r\n\tINNER JOIN [Person].[Person] p\r\n\tON p.[BusinessEntityID] = bec.[PersonID]\r\n\tLEFT OUTER JOIN [Person].[EmailAddress] ea\r\n\tON ea.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PersonPhone] pp\r\n\tON pp.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PhoneNumberType] pnt\r\n\tON pnt.[PhoneNumberTypeID] = pp.[PhoneNumberTypeID];\r\n",
            "Sales.vStoreWithAddresses": "\r\nCREATE VIEW [Sales].[vStoreWithAddresses] AS \r\nSELECT \r\n    s.[BusinessEntityID] \r\n    ,s.[Name] \r\n    ,at.[Name] AS [AddressType]\r\n    ,a.[AddressLine1] \r\n    ,a.[AddressLine2] \r\n    ,a.[City] \r\n    ,sp.[Name] AS [StateProvinceName] \r\n    ,a.[PostalCode] \r\n    ,cr.[Name] AS [CountryRegionName] \r\nFROM [Sales].[Store] s\r\n    INNER JOIN [Person].[BusinessEntityAddress] bea \r\n    ON bea.[BusinessEntityID] = s.[BusinessEntityID] \r\n    INNER JOIN [Person].[Address] a \r\n    ON a.[AddressID] = bea.[AddressID]\r\n    INNER JOIN [Person].[StateProvince] sp \r\n    ON sp.[StateProvinceID] = a.[StateProvinceID]\r\n    INNER JOIN [Person].[CountryRegion] cr \r\n    ON cr.[CountryRegionCode] = sp.[CountryRegionCode]\r\n    INNER JOIN [Person].[AddressType] at \r\n    ON at.[AddressTypeID] = bea.[AddressTypeID];\r\n",
            "Purchasing.vVendorWithContacts": "\r\nCREATE VIEW [Purchasing].[vVendorWithContacts] AS \r\nSELECT \r\n    v.[BusinessEntityID]\r\n    ,v.[Name]\r\n    ,ct.[Name] AS [ContactType] \r\n    ,p.[Title] \r\n    ,p.[FirstName] \r\n    ,p.[MiddleName] \r\n    ,p.[LastName] \r\n    ,p.[Suffix] \r\n    ,pp.[PhoneNumber] \r\n\t,pnt.[Name] AS [PhoneNumberType]\r\n    ,ea.[EmailAddress] \r\n    ,p.[EmailPromotion] \r\nFROM [Purchasing].[Vendor] v\r\n    INNER JOIN [Person].[BusinessEntityContact] bec \r\n    ON bec.[BusinessEntityID] = v.[BusinessEntityID]\r\n\tINNER JOIN [Person].ContactType ct\r\n\tON ct.[ContactTypeID] = bec.[ContactTypeID]\r\n\tINNER JOIN [Person].[Person] p\r\n\tON p.[BusinessEntityID] = bec.[PersonID]\r\n\tLEFT OUTER JOIN [Person].[EmailAddress] ea\r\n\tON ea.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PersonPhone] pp\r\n\tON pp.[BusinessEntityID] = p.[BusinessEntityID]\r\n\tLEFT OUTER JOIN [Person].[PhoneNumberType] pnt\r\n\tON pnt.[PhoneNumberTypeID] = pp.[PhoneNumberTypeID];\r\n",
            "Purchasing.vVendorWithAddresses": "\r\nCREATE VIEW [Purchasing].[vVendorWithAddresses] AS \r\nSELECT \r\n    v.[BusinessEntityID]\r\n    ,v.[Name]\r\n    ,at.[Name] AS [AddressType]\r\n    ,a.[AddressLine1] \r\n    ,a.[AddressLine2] \r\n    ,a.[City] \r\n    ,sp.[Name] AS [StateProvinceName] \r\n    ,a.[PostalCode] \r\n    ,cr.[Name] AS [CountryRegionName] \r\nFROM [Purchasing].[Vendor] v\r\n    INNER JOIN [Person].[BusinessEntityAddress] bea \r\n    ON bea.[BusinessEntityID] = v.[BusinessEntityID] \r\n    INNER JOIN [Person].[Address] a \r\n    ON a.[AddressID] = bea.[AddressID]\r\n    INNER JOIN [Person].[StateProvince] sp \r\n    ON sp.[StateProvinceID] = a.[StateProvinceID]\r\n    INNER JOIN [Person].[CountryRegion] cr \r\n    ON cr.[CountryRegionCode] = sp.[CountryRegionCode]\r\n    INNER JOIN [Person].[AddressType] at \r\n    ON at.[AddressTypeID] = bea.[AddressTypeID];\r\n"
        },
        "procedures": {
            "dbo.uspGetBillOfMaterials": "\r\nCREATE PROCEDURE [dbo].[uspGetBillOfMaterials]\r\n    @StartProductID [int],\r\n    @CheckDate [datetime]\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- Use recursive query to generate a multi-level Bill of Material (i.e. all level 1 \r\n    -- components of a level 0 assembly, all level 2 components of a level 1 assembly)\r\n    -- The CheckDate eliminates any components that are no longer used in the product on this date.\r\n    WITH [BOM_cte]([ProductAssemblyID], [ComponentID], [ComponentDesc], [PerAssemblyQty], [StandardCost], [ListPrice], [BOMLevel], [RecursionLevel]) -- CTE name and columns\r\n    AS (\r\n        SELECT b.[ProductAssemblyID], b.[ComponentID], p.[Name], b.[PerAssemblyQty], p.[StandardCost], p.[ListPrice], b.[BOMLevel], 0 -- Get the initial list of components for the bike assembly\r\n        FROM [Production].[BillOfMaterials] b\r\n            INNER JOIN [Production].[Product] p \r\n            ON b.[ComponentID] = p.[ProductID] \r\n        WHERE b.[ProductAssemblyID] = @StartProductID \r\n            AND @CheckDate >= b.[StartDate] \r\n            AND @CheckDate <= ISNULL(b.[EndDate], @CheckDate)\r\n        UNION ALL\r\n        SELECT b.[ProductAssemblyID], b.[ComponentID], p.[Name], b.[PerAssemblyQty], p.[StandardCost], p.[ListPrice], b.[BOMLevel], [RecursionLevel] + 1 -- Join recursive member to anchor\r\n        FROM [BOM_cte] cte\r\n            INNER JOIN [Production].[BillOfMaterials] b \r\n            ON b.[ProductAssemblyID] = cte.[ComponentID]\r\n            INNER JOIN [Production].[Product] p \r\n            ON b.[ComponentID] = p.[ProductID] \r\n        WHERE @CheckDate >= b.[StartDate] \r\n            AND @CheckDate <= ISNULL(b.[EndDate], @CheckDate)\r\n        )\r\n    -- Outer select from the CTE\r\n    SELECT b.[ProductAssemblyID], b.[ComponentID], b.[ComponentDesc], SUM(b.[PerAssemblyQty]) AS [TotalQuantity] , b.[StandardCost], b.[ListPrice], b.[BOMLevel], b.[RecursionLevel]\r\n    FROM [BOM_cte] b\r\n    GROUP BY b.[ComponentID], b.[ComponentDesc], b.[ProductAssemblyID], b.[BOMLevel], b.[RecursionLevel], b.[StandardCost], b.[ListPrice]\r\n    ORDER BY b.[BOMLevel], b.[ProductAssemblyID], b.[ComponentID]\r\n    OPTION (MAXRECURSION 25) \r\nEND;\r\n",
            "dbo.uspGetEmployeeManagers": "\r\nCREATE PROCEDURE [dbo].[uspGetEmployeeManagers]\r\n    @BusinessEntityID [int]\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- Use recursive query to list out all Employees required for a particular Manager\r\n    WITH [EMP_cte]([BusinessEntityID], [OrganizationNode], [FirstName], [LastName], [JobTitle], [RecursionLevel]) -- CTE name and columns\r\n    AS (\r\n        SELECT e.[BusinessEntityID], e.[OrganizationNode], p.[FirstName], p.[LastName], e.[JobTitle], 0 -- Get the initial Employee\r\n        FROM [HumanResources].[Employee] e \r\n\t\t\tINNER JOIN [Person].[Person] as p\r\n\t\t\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n        WHERE e.[BusinessEntityID] = @BusinessEntityID\r\n        UNION ALL\r\n        SELECT e.[BusinessEntityID], e.[OrganizationNode], p.[FirstName], p.[LastName], e.[JobTitle], [RecursionLevel] + 1 -- Join recursive member to anchor\r\n        FROM [HumanResources].[Employee] e \r\n            INNER JOIN [EMP_cte]\r\n            ON e.[OrganizationNode] = [EMP_cte].[OrganizationNode].GetAncestor(1)\r\n            INNER JOIN [Person].[Person] p \r\n            ON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n    )\r\n    -- Join back to Employee to return the manager name \r\n    SELECT [EMP_cte].[RecursionLevel], [EMP_cte].[BusinessEntityID], [EMP_cte].[FirstName], [EMP_cte].[LastName], \r\n        [EMP_cte].[OrganizationNode].ToString() AS [OrganizationNode], p.[FirstName] AS 'ManagerFirstName', p.[LastName] AS 'ManagerLastName'  -- Outer select from the CTE\r\n    FROM [EMP_cte] \r\n        INNER JOIN [HumanResources].[Employee] e \r\n        ON [EMP_cte].[OrganizationNode].GetAncestor(1) = e.[OrganizationNode]\r\n        INNER JOIN [Person].[Person] p \r\n        ON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n    ORDER BY [RecursionLevel], [EMP_cte].[OrganizationNode].ToString()\r\n    OPTION (MAXRECURSION 25) \r\nEND;\r\n",
            "dbo.uspGetManagerEmployees": "\r\nCREATE PROCEDURE [dbo].[uspGetManagerEmployees]\r\n    @BusinessEntityID [int]\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- Use recursive query to list out all Employees required for a particular Manager\r\n    WITH [EMP_cte]([BusinessEntityID], [OrganizationNode], [FirstName], [LastName], [RecursionLevel]) -- CTE name and columns\r\n    AS (\r\n        SELECT e.[BusinessEntityID], e.[OrganizationNode], p.[FirstName], p.[LastName], 0 -- Get the initial list of Employees for Manager n\r\n        FROM [HumanResources].[Employee] e \r\n\t\t\tINNER JOIN [Person].[Person] p \r\n\t\t\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n        WHERE e.[BusinessEntityID] = @BusinessEntityID\r\n        UNION ALL\r\n        SELECT e.[BusinessEntityID], e.[OrganizationNode], p.[FirstName], p.[LastName], [RecursionLevel] + 1 -- Join recursive member to anchor\r\n        FROM [HumanResources].[Employee] e \r\n            INNER JOIN [EMP_cte]\r\n            ON e.[OrganizationNode].GetAncestor(1) = [EMP_cte].[OrganizationNode]\r\n\t\t\tINNER JOIN [Person].[Person] p \r\n\t\t\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n        )\r\n    -- Join back to Employee to return the manager name \r\n    SELECT [EMP_cte].[RecursionLevel], [EMP_cte].[OrganizationNode].ToString() as [OrganizationNode], p.[FirstName] AS 'ManagerFirstName', p.[LastName] AS 'ManagerLastName',\r\n        [EMP_cte].[BusinessEntityID], [EMP_cte].[FirstName], [EMP_cte].[LastName] -- Outer select from the CTE\r\n    FROM [EMP_cte] \r\n        INNER JOIN [HumanResources].[Employee] e \r\n        ON [EMP_cte].[OrganizationNode].GetAncestor(1) = e.[OrganizationNode]\r\n\t\t\tINNER JOIN [Person].[Person] p \r\n\t\t\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n    ORDER BY [RecursionLevel], [EMP_cte].[OrganizationNode].ToString()\r\n    OPTION (MAXRECURSION 25) \r\nEND;\r\n",
            "dbo.uspGetWhereUsedProductID": "\r\nCREATE PROCEDURE [dbo].[uspGetWhereUsedProductID]\r\n    @StartProductID [int],\r\n    @CheckDate [datetime]\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    --Use recursive query to generate a multi-level Bill of Material (i.e. all level 1 components of a level 0 assembly, all level 2 components of a level 1 assembly)\r\n    WITH [BOM_cte]([ProductAssemblyID], [ComponentID], [ComponentDesc], [PerAssemblyQty], [StandardCost], [ListPrice], [BOMLevel], [RecursionLevel]) -- CTE name and columns\r\n    AS (\r\n        SELECT b.[ProductAssemblyID], b.[ComponentID], p.[Name], b.[PerAssemblyQty], p.[StandardCost], p.[ListPrice], b.[BOMLevel], 0 -- Get the initial list of components for the bike assembly\r\n        FROM [Production].[BillOfMaterials] b\r\n            INNER JOIN [Production].[Product] p \r\n            ON b.[ProductAssemblyID] = p.[ProductID] \r\n        WHERE b.[ComponentID] = @StartProductID \r\n            AND @CheckDate >= b.[StartDate] \r\n            AND @CheckDate <= ISNULL(b.[EndDate], @CheckDate)\r\n        UNION ALL\r\n        SELECT b.[ProductAssemblyID], b.[ComponentID], p.[Name], b.[PerAssemblyQty], p.[StandardCost], p.[ListPrice], b.[BOMLevel], [RecursionLevel] + 1 -- Join recursive member to anchor\r\n        FROM [BOM_cte] cte\r\n            INNER JOIN [Production].[BillOfMaterials] b \r\n            ON cte.[ProductAssemblyID] = b.[ComponentID]\r\n            INNER JOIN [Production].[Product] p \r\n            ON b.[ProductAssemblyID] = p.[ProductID] \r\n        WHERE @CheckDate >= b.[StartDate] \r\n            AND @CheckDate <= ISNULL(b.[EndDate], @CheckDate)\r\n        )\r\n    -- Outer select from the CTE\r\n    SELECT b.[ProductAssemblyID], b.[ComponentID], b.[ComponentDesc], SUM(b.[PerAssemblyQty]) AS [TotalQuantity] , b.[StandardCost], b.[ListPrice], b.[BOMLevel], b.[RecursionLevel]\r\n    FROM [BOM_cte] b\r\n    GROUP BY b.[ComponentID], b.[ComponentDesc], b.[ProductAssemblyID], b.[BOMLevel], b.[RecursionLevel], b.[StandardCost], b.[ListPrice]\r\n    ORDER BY b.[BOMLevel], b.[ProductAssemblyID], b.[ComponentID]\r\n    OPTION (MAXRECURSION 25) \r\nEND;\r\n",
            "HumanResources.uspUpdateEmployeeHireInfo": "\r\nCREATE PROCEDURE [HumanResources].[uspUpdateEmployeeHireInfo]\r\n    @BusinessEntityID [int], \r\n    @JobTitle [nvarchar](50), \r\n    @HireDate [datetime], \r\n    @RateChangeDate [datetime], \r\n    @Rate [money], \r\n    @PayFrequency [tinyint], \r\n    @CurrentFlag [dbo].[Flag] \r\nWITH EXECUTE AS CALLER\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        BEGIN TRANSACTION;\r\n\r\n        UPDATE [HumanResources].[Employee] \r\n        SET [JobTitle] = @JobTitle \r\n            ,[HireDate] = @HireDate \r\n            ,[CurrentFlag] = @CurrentFlag \r\n        WHERE [BusinessEntityID] = @BusinessEntityID;\r\n\r\n        INSERT INTO [HumanResources].[EmployeePayHistory] \r\n            ([BusinessEntityID]\r\n            ,[RateChangeDate]\r\n            ,[Rate]\r\n            ,[PayFrequency]) \r\n        VALUES (@BusinessEntityID, @RateChangeDate, @Rate, @PayFrequency);\r\n\r\n        COMMIT TRANSACTION;\r\n    END TRY\r\n    BEGIN CATCH\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "HumanResources.uspUpdateEmployeeLogin": "\r\nCREATE PROCEDURE [HumanResources].[uspUpdateEmployeeLogin]\r\n    @BusinessEntityID [int], \r\n    @OrganizationNode [hierarchyid],\r\n    @LoginID [nvarchar](256),\r\n    @JobTitle [nvarchar](50),\r\n    @HireDate [datetime],\r\n    @CurrentFlag [dbo].[Flag]\r\nWITH EXECUTE AS CALLER\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        UPDATE [HumanResources].[Employee] \r\n        SET [OrganizationNode] = @OrganizationNode \r\n            ,[LoginID] = @LoginID \r\n            ,[JobTitle] = @JobTitle \r\n            ,[HireDate] = @HireDate \r\n            ,[CurrentFlag] = @CurrentFlag \r\n        WHERE [BusinessEntityID] = @BusinessEntityID;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "dbo.uspPrintError": "\r\n-- uspPrintError prints error information about the error that caused \r\n-- execution to jump to the CATCH block of a TRY...CATCH construct. \r\n-- Should be executed from within the scope of a CATCH block otherwise \r\n-- it will return without printing any error information.\r\nCREATE PROCEDURE [dbo].[uspPrintError] \r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- Print error information. \r\n    PRINT 'Error ' + CONVERT(varchar(50), ERROR_NUMBER()) +\r\n          ', Severity ' + CONVERT(varchar(5), ERROR_SEVERITY()) +\r\n          ', State ' + CONVERT(varchar(5), ERROR_STATE()) + \r\n          ', Procedure ' + ISNULL(ERROR_PROCEDURE(), '-') + \r\n          ', Line ' + CONVERT(varchar(5), ERROR_LINE());\r\n    PRINT ERROR_MESSAGE();\r\nEND;\r\n",
            "HumanResources.uspUpdateEmployeePersonalInfo": "\r\nCREATE PROCEDURE [HumanResources].[uspUpdateEmployeePersonalInfo]\r\n    @BusinessEntityID [int], \r\n    @NationalIDNumber [nvarchar](15), \r\n    @BirthDate [datetime], \r\n    @MaritalStatus [nchar](1), \r\n    @Gender [nchar](1)\r\nWITH EXECUTE AS CALLER\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        UPDATE [HumanResources].[Employee] \r\n        SET [NationalIDNumber] = @NationalIDNumber \r\n            ,[BirthDate] = @BirthDate \r\n            ,[MaritalStatus] = @MaritalStatus \r\n            ,[Gender] = @Gender \r\n        WHERE [BusinessEntityID] = @BusinessEntityID;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "dbo.uspLogError": "\r\n-- uspLogError logs error information in the ErrorLog table about the \r\n-- error that caused execution to jump to the CATCH block of a \r\n-- TRY...CATCH construct. This should be executed from within the scope \r\n-- of a CATCH block otherwise it will return without inserting error \r\n-- information. \r\nCREATE PROCEDURE [dbo].[uspLogError] \r\n    @ErrorLogID [int] = 0 OUTPUT -- contains the ErrorLogID of the row inserted\r\nAS                               -- by uspLogError in the ErrorLog table\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- Output parameter value of 0 indicates that error \r\n    -- information was not logged\r\n    SET @ErrorLogID = 0;\r\n\r\n    BEGIN TRY\r\n        -- Return if there is no error information to log\r\n        IF ERROR_NUMBER() IS NULL\r\n            RETURN;\r\n\r\n        -- Return if inside an uncommittable transaction.\r\n        -- Data insertion/modification is not allowed when \r\n        -- a transaction is in an uncommittable state.\r\n        IF XACT_STATE() = -1\r\n        BEGIN\r\n            PRINT 'Cannot log error since the current transaction is in an uncommittable state. ' \r\n                + 'Rollback the transaction before executing uspLogError in order to successfully log error information.';\r\n            RETURN;\r\n        END\r\n\r\n        INSERT [dbo].[ErrorLog] \r\n            (\r\n            [UserName], \r\n            [ErrorNumber], \r\n            [ErrorSeverity], \r\n            [ErrorState], \r\n            [ErrorProcedure], \r\n            [ErrorLine], \r\n            [ErrorMessage]\r\n            ) \r\n        VALUES \r\n            (\r\n            CONVERT(sysname, CURRENT_USER), \r\n            ERROR_NUMBER(),\r\n            ERROR_SEVERITY(),\r\n            ERROR_STATE(),\r\n            ERROR_PROCEDURE(),\r\n            ERROR_LINE(),\r\n            ERROR_MESSAGE()\r\n            );\r\n\r\n        -- Pass back the ErrorLogID of the row inserted\r\n        SET @ErrorLogID = @@IDENTITY;\r\n    END TRY\r\n    BEGIN CATCH\r\n        PRINT 'An error occurred in stored procedure uspLogError: ';\r\n        EXECUTE [dbo].[uspPrintError];\r\n        RETURN -1;\r\n    END CATCH\r\nEND;\r\n",
            "dbo.uspSearchCandidateResumes": "\r\n--A stored procedure which demonstrates integrated full text search\r\n\r\nCREATE PROCEDURE [dbo].[uspSearchCandidateResumes]\r\n    @searchString [nvarchar](1000),   \r\n    @useInflectional [bit]=0,\r\n    @useThesaurus [bit]=0,\r\n    @language[int]=0\r\n\r\n\r\nWITH EXECUTE AS CALLER\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n      DECLARE @string nvarchar(1050)\r\n      --setting the lcid to the default instance LCID if needed\r\n      IF @language = NULL OR @language = 0 \r\n      BEGIN \r\n            SELECT @language =CONVERT(int, serverproperty('lcid'))  \r\n      END\r\n      \r\n\r\n            --FREETEXTTABLE case as inflectional and Thesaurus were required\r\n      IF @useThesaurus = 1 AND @useInflectional = 1  \r\n        BEGIN\r\n                  SELECT FT_TBL.[JobCandidateID], KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN FREETEXTTABLE([HumanResources].[JobCandidate],*, @searchString,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n            END\r\n\r\n      ELSE IF @useThesaurus = 1\r\n            BEGIN\r\n                  SELECT @string ='FORMSOF(THESAURUS,\"'+@searchString +'\"'+')'      \r\n                  SELECT FT_TBL.[JobCandidateID], KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN CONTAINSTABLE([HumanResources].[JobCandidate],*, @string,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n        END\r\n\r\n      ELSE IF @useInflectional = 1\r\n            BEGIN\r\n                  SELECT @string ='FORMSOF(INFLECTIONAL,\"'+@searchString +'\"'+')'\r\n                  SELECT FT_TBL.[JobCandidateID], KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN CONTAINSTABLE([HumanResources].[JobCandidate],*, @string,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n        END\r\n  \r\n      ELSE --base case, plain CONTAINSTABLE\r\n            BEGIN\r\n                  SELECT @string='\"'+@searchString +'\"'\r\n                  SELECT FT_TBL.[JobCandidateID],KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN CONTAINSTABLE([HumanResources].[JobCandidate],*,@string,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n            END\r\n\r\nEND;\r\n"
        },
        "functions": {
            "dbo.ufnGetAccountingStartDate": "\r\nCREATE FUNCTION [dbo].[ufnGetAccountingStartDate]()\r\nRETURNS [datetime] \r\nAS \r\nBEGIN\r\n    RETURN CONVERT(datetime, '20030701', 112);\r\nEND;\r\n",
            "dbo.ufnGetAccountingEndDate": "\r\nCREATE FUNCTION [dbo].[ufnGetAccountingEndDate]()\r\nRETURNS [datetime] \r\nAS \r\nBEGIN\r\n    RETURN DATEADD(millisecond, -2, CONVERT(datetime, '20040701', 112));\r\nEND;\r\n",
            "dbo.ufnGetProductDealerPrice": "\r\n\r\n\r\nCREATE FUNCTION [dbo].[ufnGetProductDealerPrice](@ProductID [int], @OrderDate [datetime])\r\nRETURNS [money] \r\nAS \r\n-- Returns the dealer price for the product on a specific date.\r\nBEGIN\r\n    DECLARE @DealerPrice money;\r\n    DECLARE @DealerDiscount money;\r\n\r\n    SET @DealerDiscount = 0.60  -- 60% of list price\r\n\r\n    SELECT @DealerPrice = plph.[ListPrice] * @DealerDiscount \r\n    FROM [Production].[Product] p \r\n        INNER JOIN [Production].[ProductListPriceHistory] plph \r\n        ON p.[ProductID] = plph.[ProductID] \r\n            AND p.[ProductID] = @ProductID \r\n            AND @OrderDate BETWEEN plph.[StartDate] AND COALESCE(plph.[EndDate], CONVERT(datetime, '99991231', 112)); -- Make sure we get all the prices!\r\n\r\n    RETURN @DealerPrice;\r\nEND;\r\n",
            "dbo.ufnGetProductListPrice": "\r\nCREATE FUNCTION [dbo].[ufnGetProductListPrice](@ProductID [int], @OrderDate [datetime])\r\nRETURNS [money] \r\nAS \r\nBEGIN\r\n    DECLARE @ListPrice money;\r\n\r\n    SELECT @ListPrice = plph.[ListPrice] \r\n    FROM [Production].[Product] p \r\n        INNER JOIN [Production].[ProductListPriceHistory] plph \r\n        ON p.[ProductID] = plph.[ProductID] \r\n            AND p.[ProductID] = @ProductID \r\n            AND @OrderDate BETWEEN plph.[StartDate] AND COALESCE(plph.[EndDate], CONVERT(datetime, '99991231', 112)); -- Make sure we get all the prices!\r\n\r\n    RETURN @ListPrice;\r\nEND;\r\n",
            "dbo.ufnGetProductStandardCost": "\r\nCREATE FUNCTION [dbo].[ufnGetProductStandardCost](@ProductID [int], @OrderDate [datetime])\r\nRETURNS [money] \r\nAS \r\n-- Returns the standard cost for the product on a specific date.\r\nBEGIN\r\n    DECLARE @StandardCost money;\r\n\r\n    SELECT @StandardCost = pch.[StandardCost] \r\n    FROM [Production].[Product] p \r\n        INNER JOIN [Production].[ProductCostHistory] pch \r\n        ON p.[ProductID] = pch.[ProductID] \r\n            AND p.[ProductID] = @ProductID \r\n            AND @OrderDate BETWEEN pch.[StartDate] AND COALESCE(pch.[EndDate], CONVERT(datetime, '99991231', 112)); -- Make sure we get all the prices!\r\n\r\n    RETURN @StandardCost;\r\nEND;\r\n",
            "dbo.ufnGetStock": "\r\nCREATE FUNCTION [dbo].[ufnGetStock](@ProductID [int])\r\nRETURNS [int] \r\nAS \r\n-- Returns the stock level for the product. This function is used internally only\r\nBEGIN\r\n    DECLARE @ret int;\r\n    \r\n    SELECT @ret = SUM(p.[Quantity]) \r\n    FROM [Production].[ProductInventory] p \r\n    WHERE p.[ProductID] = @ProductID \r\n        AND p.[LocationID] = '6'; -- Only look at inventory in the misc storage\r\n    \r\n    IF (@ret IS NULL) \r\n        SET @ret = 0\r\n    \r\n    RETURN @ret\r\nEND;\r\n",
            "dbo.ufnGetDocumentStatusText": "\r\nCREATE FUNCTION [dbo].[ufnGetDocumentStatusText](@Status [tinyint])\r\nRETURNS [nvarchar](16) \r\nAS \r\n-- Returns the sales order status text representation for the status value.\r\nBEGIN\r\n    DECLARE @ret [nvarchar](16);\r\n\r\n    SET @ret = \r\n        CASE @Status\r\n            WHEN 1 THEN N'Pending approval'\r\n            WHEN 2 THEN N'Approved'\r\n            WHEN 3 THEN N'Obsolete'\r\n            ELSE N'** Invalid **'\r\n        END;\r\n    \r\n    RETURN @ret\r\nEND;\r\n",
            "dbo.ufnGetPurchaseOrderStatusText": "\r\nCREATE FUNCTION [dbo].[ufnGetPurchaseOrderStatusText](@Status [tinyint])\r\nRETURNS [nvarchar](15) \r\nAS \r\n-- Returns the sales order status text representation for the status value.\r\nBEGIN\r\n    DECLARE @ret [nvarchar](15);\r\n\r\n    SET @ret = \r\n        CASE @Status\r\n            WHEN 1 THEN 'Pending'\r\n            WHEN 2 THEN 'Approved'\r\n            WHEN 3 THEN 'Rejected'\r\n            WHEN 4 THEN 'Complete'\r\n            ELSE '** Invalid **'\r\n        END;\r\n    \r\n    RETURN @ret\r\nEND;\r\n",
            "dbo.ufnGetSalesOrderStatusText": "\r\nCREATE FUNCTION [dbo].[ufnGetSalesOrderStatusText](@Status [tinyint])\r\nRETURNS [nvarchar](15) \r\nAS \r\n-- Returns the sales order status text representation for the status value.\r\nBEGIN\r\n    DECLARE @ret [nvarchar](15);\r\n\r\n    SET @ret = \r\n        CASE @Status\r\n            WHEN 1 THEN 'In process'\r\n            WHEN 2 THEN 'Approved'\r\n            WHEN 3 THEN 'Backordered'\r\n            WHEN 4 THEN 'Rejected'\r\n            WHEN 5 THEN 'Shipped'\r\n            WHEN 6 THEN 'Cancelled'\r\n            ELSE '** Invalid **'\r\n        END;\r\n    \r\n    RETURN @ret\r\nEND;\r\n",
            "dbo.ufnLeadingZeros": "\r\nCREATE FUNCTION [dbo].[ufnLeadingZeros](\r\n    @Value int\r\n) \r\nRETURNS varchar(8) \r\nWITH SCHEMABINDING \r\nAS \r\nBEGIN\r\n    DECLARE @ReturnValue varchar(8);\r\n\r\n    SET @ReturnValue = CONVERT(varchar(8), @Value);\r\n    SET @ReturnValue = REPLICATE('0', 8 - DATALENGTH(@ReturnValue)) + @ReturnValue;\r\n\r\n    RETURN (@ReturnValue);\r\nEND;\r\n",
            "dbo.ufnGetContactInformation": "\r\nCREATE FUNCTION [dbo].[ufnGetContactInformation](@PersonID int)\r\nRETURNS @retContactInformation TABLE \r\n(\r\n    -- Columns returned by the function\r\n    [PersonID] int NOT NULL, \r\n    [FirstName] [nvarchar](50) NULL, \r\n    [LastName] [nvarchar](50) NULL, \r\n\t[JobTitle] [nvarchar](50) NULL,\r\n    [BusinessEntityType] [nvarchar](50) NULL\r\n)\r\nAS \r\n-- Returns the first name, last name, job title and business entity type for the specified contact.\r\n-- Since a contact can serve multiple roles, more than one row may be returned.\r\nBEGIN\r\n\tIF @PersonID IS NOT NULL \r\n\t\tBEGIN\r\n\t\tIF EXISTS(SELECT * FROM [HumanResources].[Employee] e \r\n\t\t\t\t\tWHERE e.[BusinessEntityID] = @PersonID) \r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, e.[JobTitle], 'Employee'\r\n\t\t\t\tFROM [HumanResources].[Employee] AS e\r\n\t\t\t\t\tINNER JOIN [Person].[Person] p\r\n\t\t\t\t\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n\t\t\t\tWHERE e.[BusinessEntityID] = @PersonID;\r\n\r\n\t\tIF EXISTS(SELECT * FROM [Purchasing].[Vendor] AS v\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = v.[BusinessEntityID]\r\n\t\t\t\t\tWHERE bec.[PersonID] = @PersonID)\r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, ct.[Name], 'Vendor Contact' \r\n\t\t\t\tFROM [Purchasing].[Vendor] AS v\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = v.[BusinessEntityID]\r\n\t\t\t\t\tINNER JOIN [Person].ContactType ct\r\n\t\t\t\t\tON ct.[ContactTypeID] = bec.[ContactTypeID]\r\n\t\t\t\t\tINNER JOIN [Person].[Person] p\r\n\t\t\t\t\tON p.[BusinessEntityID] = bec.[PersonID]\r\n\t\t\t\tWHERE bec.[PersonID] = @PersonID;\r\n\t\t\r\n\t\tIF EXISTS(SELECT * FROM [Sales].[Store] AS s\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = s.[BusinessEntityID]\r\n\t\t\t\t\tWHERE bec.[PersonID] = @PersonID)\r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, ct.[Name], 'Store Contact' \r\n\t\t\t\tFROM [Sales].[Store] AS s\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = s.[BusinessEntityID]\r\n\t\t\t\t\tINNER JOIN [Person].ContactType ct\r\n\t\t\t\t\tON ct.[ContactTypeID] = bec.[ContactTypeID]\r\n\t\t\t\t\tINNER JOIN [Person].[Person] p\r\n\t\t\t\t\tON p.[BusinessEntityID] = bec.[PersonID]\r\n\t\t\t\tWHERE bec.[PersonID] = @PersonID;\r\n\r\n\t\tIF EXISTS(SELECT * FROM [Person].[Person] AS p\r\n\t\t\t\t\tINNER JOIN [Sales].[Customer] AS c\r\n\t\t\t\t\tON c.[PersonID] = p.[BusinessEntityID]\r\n\t\t\t\t\tWHERE p.[BusinessEntityID] = @PersonID AND c.[StoreID] IS NULL) \r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, NULL, 'Consumer' \r\n\t\t\t\tFROM [Person].[Person] AS p\r\n\t\t\t\t\tINNER JOIN [Sales].[Customer] AS c\r\n\t\t\t\t\tON c.[PersonID] = p.[BusinessEntityID]\r\n\t\t\t\t\tWHERE p.[BusinessEntityID] = @PersonID AND c.[StoreID] IS NULL; \r\n\t\tEND\r\n\r\n\tRETURN;\r\nEND;\r\n"
        },
        "triggers": {
            "Sales.iduSalesOrderDetail": "\r\nCREATE TRIGGER [Sales].[iduSalesOrderDetail] ON [Sales].[SalesOrderDetail] \r\nAFTER INSERT, DELETE, UPDATE AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        -- If inserting or updating these columns\r\n        IF UPDATE([ProductID]) OR UPDATE([OrderQty]) OR UPDATE([UnitPrice]) OR UPDATE([UnitPriceDiscount]) \r\n        -- Insert record into TransactionHistory\r\n        BEGIN\r\n            INSERT INTO [Production].[TransactionHistory]\r\n                ([ProductID]\r\n                ,[ReferenceOrderID]\r\n                ,[ReferenceOrderLineID]\r\n                ,[TransactionType]\r\n                ,[TransactionDate]\r\n                ,[Quantity]\r\n                ,[ActualCost])\r\n            SELECT \r\n                inserted.[ProductID]\r\n                ,inserted.[SalesOrderID]\r\n                ,inserted.[SalesOrderDetailID]\r\n                ,'S'\r\n                ,GETDATE()\r\n                ,inserted.[OrderQty]\r\n                ,inserted.[UnitPrice]\r\n            FROM inserted \r\n                INNER JOIN [Sales].[SalesOrderHeader] \r\n                ON inserted.[SalesOrderID] = [Sales].[SalesOrderHeader].[SalesOrderID];\r\n\r\n            UPDATE [Person].[Person] \r\n            SET [Demographics].modify('declare default element namespace \r\n                \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n                replace value of (/IndividualSurvey/TotalPurchaseYTD)[1] \r\n                with data(/IndividualSurvey/TotalPurchaseYTD)[1] + sql:column (\"inserted.LineTotal\")') \r\n            FROM inserted \r\n                INNER JOIN [Sales].[SalesOrderHeader] AS SOH\r\n                ON inserted.[SalesOrderID] = SOH.[SalesOrderID] \r\n                INNER JOIN [Sales].[Customer] AS C\r\n                ON SOH.[CustomerID] = C.[CustomerID]\r\n            WHERE C.[PersonID] = [Person].[Person].[BusinessEntityID];\r\n        END;\r\n\r\n        -- Update SubTotal in SalesOrderHeader record. Note that this causes the \r\n        -- SalesOrderHeader trigger to fire which will update the RevisionNumber.\r\n        UPDATE [Sales].[SalesOrderHeader]\r\n        SET [Sales].[SalesOrderHeader].[SubTotal] = \r\n            (SELECT SUM([Sales].[SalesOrderDetail].[LineTotal])\r\n                FROM [Sales].[SalesOrderDetail]\r\n                WHERE [Sales].[SalesOrderHeader].[SalesOrderID] = [Sales].[SalesOrderDetail].[SalesOrderID])\r\n        WHERE [Sales].[SalesOrderHeader].[SalesOrderID] IN (SELECT inserted.[SalesOrderID] FROM inserted);\r\n\r\n        UPDATE [Person].[Person] \r\n        SET [Demographics].modify('declare default element namespace \r\n            \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n            replace value of (/IndividualSurvey/TotalPurchaseYTD)[1] \r\n            with data(/IndividualSurvey/TotalPurchaseYTD)[1] - sql:column(\"deleted.LineTotal\")') \r\n        FROM deleted \r\n            INNER JOIN [Sales].[SalesOrderHeader] \r\n            ON deleted.[SalesOrderID] = [Sales].[SalesOrderHeader].[SalesOrderID] \r\n            INNER JOIN [Sales].[Customer]\r\n            ON [Sales].[Customer].[CustomerID] = [Sales].[SalesOrderHeader].[CustomerID]\r\n        WHERE [Sales].[Customer].[PersonID] = [Person].[Person].[BusinessEntityID];\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "Sales.uSalesOrderHeader": "\r\nCREATE TRIGGER [Sales].[uSalesOrderHeader] ON [Sales].[SalesOrderHeader] \r\nAFTER UPDATE NOT FOR REPLICATION AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        -- Update RevisionNumber for modification of any field EXCEPT the Status.\r\n        IF NOT UPDATE([Status])\r\n        BEGIN\r\n            UPDATE [Sales].[SalesOrderHeader]\r\n            SET [Sales].[SalesOrderHeader].[RevisionNumber] = \r\n                [Sales].[SalesOrderHeader].[RevisionNumber] + 1\r\n            WHERE [Sales].[SalesOrderHeader].[SalesOrderID] IN \r\n                (SELECT inserted.[SalesOrderID] FROM inserted);\r\n        END;\r\n\r\n        -- Update the SalesPerson SalesYTD when SubTotal is updated\r\n        IF UPDATE([SubTotal])\r\n        BEGIN\r\n            DECLARE @StartDate datetime,\r\n                    @EndDate datetime\r\n\r\n            SET @StartDate = [dbo].[ufnGetAccountingStartDate]();\r\n            SET @EndDate = [dbo].[ufnGetAccountingEndDate]();\r\n\r\n            UPDATE [Sales].[SalesPerson]\r\n            SET [Sales].[SalesPerson].[SalesYTD] = \r\n                (SELECT SUM([Sales].[SalesOrderHeader].[SubTotal])\r\n                FROM [Sales].[SalesOrderHeader] \r\n                WHERE [Sales].[SalesPerson].[BusinessEntityID] = [Sales].[SalesOrderHeader].[SalesPersonID]\r\n                    AND ([Sales].[SalesOrderHeader].[Status] = 5) -- Shipped\r\n                    AND [Sales].[SalesOrderHeader].[OrderDate] BETWEEN @StartDate AND @EndDate)\r\n            WHERE [Sales].[SalesPerson].[BusinessEntityID] \r\n                IN (SELECT DISTINCT inserted.[SalesPersonID] FROM inserted \r\n                    WHERE inserted.[OrderDate] BETWEEN @StartDate AND @EndDate);\r\n\r\n            -- Update the SalesTerritory SalesYTD when SubTotal is updated\r\n            UPDATE [Sales].[SalesTerritory]\r\n            SET [Sales].[SalesTerritory].[SalesYTD] = \r\n                (SELECT SUM([Sales].[SalesOrderHeader].[SubTotal])\r\n                FROM [Sales].[SalesOrderHeader] \r\n                WHERE [Sales].[SalesTerritory].[TerritoryID] = [Sales].[SalesOrderHeader].[TerritoryID]\r\n                    AND ([Sales].[SalesOrderHeader].[Status] = 5) -- Shipped\r\n                    AND [Sales].[SalesOrderHeader].[OrderDate] BETWEEN @StartDate AND @EndDate)\r\n            WHERE [Sales].[SalesTerritory].[TerritoryID] \r\n                IN (SELECT DISTINCT inserted.[TerritoryID] FROM inserted \r\n                    WHERE inserted.[OrderDate] BETWEEN @StartDate AND @EndDate);\r\n        END;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "Purchasing.dVendor": "\r\nCREATE TRIGGER [Purchasing].[dVendor] ON [Purchasing].[Vendor] \r\nINSTEAD OF DELETE NOT FOR REPLICATION AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        DECLARE @DeleteCount int;\r\n\r\n        SELECT @DeleteCount = COUNT(*) FROM deleted;\r\n        IF @DeleteCount > 0 \r\n        BEGIN\r\n            RAISERROR\r\n                (N'Vendors cannot be deleted. They can only be marked as not active.', -- Message\r\n                10, -- Severity.\r\n                1); -- State.\r\n\r\n        -- Rollback any active or uncommittable transactions\r\n            IF @@TRANCOUNT > 0\r\n            BEGIN\r\n                ROLLBACK TRANSACTION;\r\n            END\r\n        END;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "Production.iWorkOrder": "\r\nCREATE TRIGGER [Production].[iWorkOrder] ON [Production].[WorkOrder] \r\nAFTER INSERT AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        INSERT INTO [Production].[TransactionHistory](\r\n            [ProductID]\r\n            ,[ReferenceOrderID]\r\n            ,[TransactionType]\r\n            ,[TransactionDate]\r\n            ,[Quantity]\r\n            ,[ActualCost])\r\n        SELECT \r\n            inserted.[ProductID]\r\n            ,inserted.[WorkOrderID]\r\n            ,'W'\r\n            ,GETDATE()\r\n            ,inserted.[OrderQty]\r\n            ,0\r\n        FROM inserted;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "Production.uWorkOrder": "\r\nCREATE TRIGGER [Production].[uWorkOrder] ON [Production].[WorkOrder] \r\nAFTER UPDATE AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        IF UPDATE([ProductID]) OR UPDATE([OrderQty])\r\n        BEGIN\r\n            INSERT INTO [Production].[TransactionHistory](\r\n                [ProductID]\r\n                ,[ReferenceOrderID]\r\n                ,[TransactionType]\r\n                ,[TransactionDate]\r\n                ,[Quantity])\r\n            SELECT \r\n                inserted.[ProductID]\r\n                ,inserted.[WorkOrderID]\r\n                ,'W'\r\n                ,GETDATE()\r\n                ,inserted.[OrderQty]\r\n            FROM inserted;\r\n        END;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "HumanResources.dEmployee": "\r\nCREATE TRIGGER [HumanResources].[dEmployee] ON [HumanResources].[Employee] \r\nINSTEAD OF DELETE NOT FOR REPLICATION AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN\r\n        RAISERROR\r\n            (N'Employees cannot be deleted. They can only be marked as not current.', -- Message\r\n            10, -- Severity.\r\n            1); -- State.\r\n\r\n        -- Rollback any active or uncommittable transactions\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n    END;\r\nEND;\r\n",
            "Person.iuPerson": "\r\nCREATE TRIGGER [Person].[iuPerson] ON [Person].[Person] \r\nAFTER INSERT, UPDATE NOT FOR REPLICATION AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    IF UPDATE([BusinessEntityID]) OR UPDATE([Demographics]) \r\n    BEGIN\r\n        UPDATE [Person].[Person] \r\n        SET [Person].[Person].[Demographics] = N'<IndividualSurvey xmlns=\"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"> \r\n            <TotalPurchaseYTD>0.00</TotalPurchaseYTD> \r\n            </IndividualSurvey>' \r\n        FROM inserted \r\n        WHERE [Person].[Person].[BusinessEntityID] = inserted.[BusinessEntityID] \r\n            AND inserted.[Demographics] IS NULL;\r\n        \r\n        UPDATE [Person].[Person] \r\n        SET [Demographics].modify(N'declare default element namespace \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n            insert <TotalPurchaseYTD>0.00</TotalPurchaseYTD> \r\n            as first \r\n            into (/IndividualSurvey)[1]') \r\n        FROM inserted \r\n        WHERE [Person].[Person].[BusinessEntityID] = inserted.[BusinessEntityID] \r\n            AND inserted.[Demographics] IS NOT NULL \r\n            AND inserted.[Demographics].exist(N'declare default element namespace \r\n                \"http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\"; \r\n                /IndividualSurvey/TotalPurchaseYTD') <> 1;\r\n    END;\r\nEND;\r\n",
            "Purchasing.iPurchaseOrderDetail": "\r\nCREATE TRIGGER [Purchasing].[iPurchaseOrderDetail] ON [Purchasing].[PurchaseOrderDetail] \r\nAFTER INSERT AS\r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        INSERT INTO [Production].[TransactionHistory]\r\n            ([ProductID]\r\n            ,[ReferenceOrderID]\r\n            ,[ReferenceOrderLineID]\r\n            ,[TransactionType]\r\n            ,[TransactionDate]\r\n            ,[Quantity]\r\n            ,[ActualCost])\r\n        SELECT \r\n            inserted.[ProductID]\r\n            ,inserted.[PurchaseOrderID]\r\n            ,inserted.[PurchaseOrderDetailID]\r\n            ,'P'\r\n            ,GETDATE()\r\n            ,inserted.[OrderQty]\r\n            ,inserted.[UnitPrice]\r\n        FROM inserted \r\n            INNER JOIN [Purchasing].[PurchaseOrderHeader] \r\n            ON inserted.[PurchaseOrderID] = [Purchasing].[PurchaseOrderHeader].[PurchaseOrderID];\r\n\r\n        -- Update SubTotal in PurchaseOrderHeader record. Note that this causes the \r\n        -- PurchaseOrderHeader trigger to fire which will update the RevisionNumber.\r\n        UPDATE [Purchasing].[PurchaseOrderHeader]\r\n        SET [Purchasing].[PurchaseOrderHeader].[SubTotal] = \r\n            (SELECT SUM([Purchasing].[PurchaseOrderDetail].[LineTotal])\r\n                FROM [Purchasing].[PurchaseOrderDetail]\r\n                WHERE [Purchasing].[PurchaseOrderHeader].[PurchaseOrderID] = [Purchasing].[PurchaseOrderDetail].[PurchaseOrderID])\r\n        WHERE [Purchasing].[PurchaseOrderHeader].[PurchaseOrderID] IN (SELECT inserted.[PurchaseOrderID] FROM inserted);\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "Purchasing.uPurchaseOrderDetail": "\r\nCREATE TRIGGER [Purchasing].[uPurchaseOrderDetail] ON [Purchasing].[PurchaseOrderDetail] \r\nAFTER UPDATE AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        IF UPDATE([ProductID]) OR UPDATE([OrderQty]) OR UPDATE([UnitPrice])\r\n        -- Insert record into TransactionHistory \r\n        BEGIN\r\n            INSERT INTO [Production].[TransactionHistory]\r\n                ([ProductID]\r\n                ,[ReferenceOrderID]\r\n                ,[ReferenceOrderLineID]\r\n                ,[TransactionType]\r\n                ,[TransactionDate]\r\n                ,[Quantity]\r\n                ,[ActualCost])\r\n            SELECT \r\n                inserted.[ProductID]\r\n                ,inserted.[PurchaseOrderID]\r\n                ,inserted.[PurchaseOrderDetailID]\r\n                ,'P'\r\n                ,GETDATE()\r\n                ,inserted.[OrderQty]\r\n                ,inserted.[UnitPrice]\r\n            FROM inserted \r\n                INNER JOIN [Purchasing].[PurchaseOrderDetail] \r\n                ON inserted.[PurchaseOrderID] = [Purchasing].[PurchaseOrderDetail].[PurchaseOrderID];\r\n\r\n            -- Update SubTotal in PurchaseOrderHeader record. Note that this causes the \r\n            -- PurchaseOrderHeader trigger to fire which will update the RevisionNumber.\r\n            UPDATE [Purchasing].[PurchaseOrderHeader]\r\n            SET [Purchasing].[PurchaseOrderHeader].[SubTotal] = \r\n                (SELECT SUM([Purchasing].[PurchaseOrderDetail].[LineTotal])\r\n                    FROM [Purchasing].[PurchaseOrderDetail]\r\n                    WHERE [Purchasing].[PurchaseOrderHeader].[PurchaseOrderID] \r\n                        = [Purchasing].[PurchaseOrderDetail].[PurchaseOrderID])\r\n            WHERE [Purchasing].[PurchaseOrderHeader].[PurchaseOrderID] \r\n                IN (SELECT inserted.[PurchaseOrderID] FROM inserted);\r\n\r\n            UPDATE [Purchasing].[PurchaseOrderDetail]\r\n            SET [Purchasing].[PurchaseOrderDetail].[ModifiedDate] = GETDATE()\r\n            FROM inserted\r\n            WHERE inserted.[PurchaseOrderID] = [Purchasing].[PurchaseOrderDetail].[PurchaseOrderID]\r\n                AND inserted.[PurchaseOrderDetailID] = [Purchasing].[PurchaseOrderDetail].[PurchaseOrderDetailID];\r\n        END;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n",
            "Purchasing.uPurchaseOrderHeader": "\r\nCREATE TRIGGER [Purchasing].[uPurchaseOrderHeader] ON [Purchasing].[PurchaseOrderHeader] \r\nAFTER UPDATE AS \r\nBEGIN\r\n    DECLARE @Count int;\r\n\r\n    SET @Count = @@ROWCOUNT;\r\n    IF @Count = 0 \r\n        RETURN;\r\n\r\n    SET NOCOUNT ON;\r\n\r\n    BEGIN TRY\r\n        -- Update RevisionNumber for modification of any field EXCEPT the Status.\r\n        IF NOT UPDATE([Status])\r\n        BEGIN\r\n            UPDATE [Purchasing].[PurchaseOrderHeader]\r\n            SET [Purchasing].[PurchaseOrderHeader].[RevisionNumber] = \r\n                [Purchasing].[PurchaseOrderHeader].[RevisionNumber] + 1\r\n            WHERE [Purchasing].[PurchaseOrderHeader].[PurchaseOrderID] IN \r\n                (SELECT inserted.[PurchaseOrderID] FROM inserted);\r\n        END;\r\n    END TRY\r\n    BEGIN CATCH\r\n        EXECUTE [dbo].[uspPrintError];\r\n\r\n        -- Rollback any active or uncommittable transactions before\r\n        -- inserting information in the ErrorLog\r\n        IF @@TRANCOUNT > 0\r\n        BEGIN\r\n            ROLLBACK TRANSACTION;\r\n        END\r\n\r\n        EXECUTE [dbo].[uspLogError];\r\n    END CATCH;\r\nEND;\r\n"
        }
    },
    "warnings": {
        "events": {},
        "synonyms": {}
    }
}